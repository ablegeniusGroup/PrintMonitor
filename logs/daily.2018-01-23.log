08:38:41.476 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==>  Preparing: select top 32 ohl.REF_NUM,rob.table_no from ORDER_HANG_LIST as ohl inner join RT_ORDER_BILL rob on rob.bill_no = ohl.ref_num where ohl.REF_NUM not in ( select top 0 oh.REF_NUM from ORDER_HANG_LIST as oh order by oh.HANG_TIME )order by ohl.HANG_TIME 
08:38:41.591 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:38:41.756 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:38:43.249 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no, rd.sub_no, rd.type, rd.table_no, rd.goodsno, rd.order_idx, t.name1, t.print_info, rd.rt_op_date, rb.IN_DATE, rd.rt_op_time, rd.s_code, rd.seal_count, rd.amt, rd.print_state, tp.single_prt, tk.name1 as t_kic_msg, rb.pos_id, tp.name1 as print_name, rd.barcode, sc.name1 as staff, tb.zone, rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.code = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in ('UNPRINT', 'PREPRINT' , 'MSG', 'HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:38:43.252 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:38:43.614 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - <==      Total: 14
08:38:43.642 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' and t.print_info in ( '0B' ) group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select BILL_NO, MIN(RT_OP_TIME) as min_time from rt_bill_detail GROUP BY BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and rd.print_state in('HANG') and t.print_info in ( '0B' ) and exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:38:43.643 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:38:43.717 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:38:43.729 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:38:43.731 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43422(Long), N(String), PREPRINT(String)
08:38:43.742 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:38:43.754 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:38:43.755 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43421(Long), N(String), PREPRINT(String)
08:38:43.759 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:38:43.769 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:38:43.770 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43416(Long), N(String), PREPRINT(String)
08:38:43.773 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:38:43.784 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:38:43.785 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43417(Long), N(String), PREPRINT(String)
08:38:43.794 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:38:43.806 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:38:43.807 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43423(Long), N(String), PREPRINT(String)
08:38:43.814 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:38:43.824 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:38:43.825 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43420(Long), N(String), PREPRINT(String)
08:38:43.832 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:38:43.842 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:38:43.843 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43413(Long), N(String), PREPRINT(String)
08:38:43.849 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:38:43.857 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:38:43.858 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43414(Long), N(String), PREPRINT(String)
08:38:43.861 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:38:43.870 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:38:43.871 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43415(Long), N(String), PREPRINT(String)
08:38:43.875 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:38:43.884 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:38:43.885 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43418(Long), N(String), PREPRINT(String)
08:38:43.888 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:38:43.899 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:38:43.900 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43410(Long), N(String), PREPRINT(String)
08:38:43.904 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:38:43.913 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:38:43.914 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43419(Long), N(String), PREPRINT(String)
08:38:43.917 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:38:43.929 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:38:43.930 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43412(Long), N(String), PREPRINT(String)
08:38:43.935 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:38:43.940 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:38:43.940 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43411(Long), N(String), PREPRINT(String)
08:38:43.943 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:38:43.961 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
08:38:43.962 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
08:38:43.970 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
08:38:49.816 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
08:38:49.817 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04877(String)
08:38:49.826 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
08:38:53.236 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:38:53.236 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:38:53.303 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:39:03.236 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:39:03.236 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:39:03.250 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:39:13.238 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:39:13.238 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:39:13.249 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:39:23.237 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:39:23.237 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:39:23.250 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:39:33.239 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:39:33.240 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:39:33.270 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:39:43.242 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:39:43.243 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:39:43.255 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:39:53.238 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:39:53.239 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:39:53.251 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:40:03.238 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:40:03.238 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:40:03.248 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:40:26.692 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no, rd.sub_no, rd.type, rd.table_no, rd.goodsno, rd.order_idx, t.name1, t.print_info, rd.rt_op_date, rb.IN_DATE, rd.rt_op_time, rd.s_code, rd.seal_count, rd.amt, rd.print_state, tp.single_prt, tk.name1 as t_kic_msg, rb.pos_id, tp.name1 as print_name, rd.barcode, sc.name1 as staff, tb.zone, rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.code = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in ('UNPRINT', 'PREPRINT' , 'MSG', 'HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:40:26.978 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:40:27.573 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - <==      Total: 14
08:40:27.616 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' and t.print_info in ( '0B' ) group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select BILL_NO, MIN(RT_OP_TIME) as min_time from rt_bill_detail GROUP BY BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and rd.print_state in('HANG') and t.print_info in ( '0B' ) and exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:40:27.617 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:40:27.693 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:40:27.711 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:40:27.714 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43422(Long), N(String), PREPRINT(String)
08:40:27.748 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:40:27.752 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:40:27.753 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43421(Long), N(String), PREPRINT(String)
08:40:27.757 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:40:27.761 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:40:27.762 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43416(Long), N(String), PREPRINT(String)
08:40:27.765 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:40:27.769 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:40:27.771 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43417(Long), N(String), PREPRINT(String)
08:40:27.784 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:40:27.796 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:40:27.798 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43423(Long), N(String), PREPRINT(String)
08:40:27.802 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:40:27.806 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:40:27.807 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43420(Long), N(String), PREPRINT(String)
08:40:27.811 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:40:27.825 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:40:27.825 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43413(Long), N(String), PREPRINT(String)
08:40:27.834 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:40:27.844 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:40:27.845 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43414(Long), N(String), PREPRINT(String)
08:40:27.851 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:40:27.861 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:40:27.862 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43415(Long), N(String), PREPRINT(String)
08:40:27.869 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:40:27.880 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:40:27.880 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43418(Long), N(String), PREPRINT(String)
08:40:27.888 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:40:27.895 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:40:27.896 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43410(Long), N(String), PREPRINT(String)
08:40:27.900 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:40:27.911 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:40:27.911 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43419(Long), N(String), PREPRINT(String)
08:40:27.915 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:40:27.924 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:40:27.925 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43412(Long), N(String), PREPRINT(String)
08:40:27.929 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:40:27.942 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:40:27.944 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43411(Long), N(String), PREPRINT(String)
08:40:27.952 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:40:27.966 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
08:40:27.969 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
08:40:27.979 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
08:40:28.435 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
08:40:28.437 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04877(String)
08:40:28.445 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
08:40:32.676 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:40:32.677 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:40:32.745 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:40:42.677 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:40:42.678 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:40:42.690 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:40:52.678 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:40:52.679 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:40:52.691 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:41:02.679 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:41:02.680 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:41:02.693 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:41:12.680 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:41:12.680 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:41:12.691 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:41:22.681 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:41:22.681 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:41:22.692 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:41:32.683 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:41:32.684 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:41:32.696 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:41:42.701 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:41:42.702 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:41:42.714 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:41:52.683 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:41:52.685 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:41:52.697 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:41:53.771 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
08:41:53.772 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04877(String), N(String), 00(String)
08:41:53.853 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
08:41:54.667 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
08:41:54.668 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04877(String), 43422(Long), N(String)
08:41:54.675 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:41:54.679 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
08:41:54.680 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04877(String), 43421(Long), N(String)
08:41:54.684 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:41:54.688 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
08:41:54.689 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04877(String), 43416(Long), N(String)
08:41:54.692 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:41:54.696 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
08:41:54.697 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04877(String), 43417(Long), N(String)
08:41:54.700 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:41:54.705 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
08:41:54.706 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04877(String), 43423(Long), N(String)
08:41:54.709 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:41:54.712 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
08:41:54.713 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04877(String), 43420(Long), N(String)
08:41:54.720 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:41:54.724 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
08:41:54.724 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04877(String), 43413(Long), N(String)
08:41:54.727 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:41:54.731 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
08:41:54.731 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04877(String), 43414(Long), N(String)
08:41:54.735 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:41:54.738 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
08:41:54.739 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04877(String), 43415(Long), N(String)
08:41:54.742 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:41:54.746 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
08:41:54.746 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04877(String), 43418(Long), N(String)
08:41:54.749 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:41:54.752 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
08:41:54.753 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04877(String), 43410(Long), N(String)
08:41:54.756 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:41:54.760 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
08:41:54.761 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04877(String), 43419(Long), N(String)
08:41:54.763 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:41:54.767 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
08:41:54.767 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04877(String), 43412(Long), N(String)
08:41:54.775 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:41:54.779 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
08:41:54.780 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04877(String), 43411(Long), N(String)
08:41:54.783 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:41:54.790 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
08:41:54.793 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
08:41:54.793 [JavaFX Application Thread] DEBUG m.p.d.m.O.addOrderHangList BaseJdbcLogger.java:159 debug - ==>  Preparing: insert into ORDER_HANG_LIST values(?,?,?) 
08:41:54.796 [JavaFX Application Thread] DEBUG m.p.d.m.O.addOrderHangList BaseJdbcLogger.java:159 debug - ==> Parameters: 04877(String), 2018-01-23 08:41:54.667(Timestamp), 2018-01-23 08:42:54.667(Timestamp)
08:41:54.798 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
08:41:54.810 [JavaFX Application Thread] DEBUG m.p.d.m.O.addOrderHangList BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:41:55.667 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==>  Preparing: select top 32 ohl.REF_NUM,rob.table_no from ORDER_HANG_LIST as ohl inner join RT_ORDER_BILL rob on rob.bill_no = ohl.ref_num where ohl.REF_NUM not in ( select top 0 oh.REF_NUM from ORDER_HANG_LIST as oh order by oh.HANG_TIME )order by ohl.HANG_TIME 
08:41:55.669 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:41:55.678 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - <==      Total: 1
08:42:01.135 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
08:42:01.136 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04877(String)
08:42:01.141 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
08:42:02.685 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:42:02.685 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:42:02.697 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:42:12.686 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:42:12.686 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:42:12.696 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:42:17.014 [JavaFX Application Thread] DEBUG m.p.d.m.T.getTopButtons BaseJdbcLogger.java:159 debug - ==>  Preparing: select * from TOP_BUTTON 
08:42:17.015 [JavaFX Application Thread] DEBUG m.p.d.m.T.getTopButtons BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:42:17.062 [JavaFX Application Thread] DEBUG m.p.d.m.T.getTopButtons BaseJdbcLogger.java:159 debug - <==      Total: 10
08:42:17.079 [JavaFX Application Thread] DEBUG m.p.d.m.T.getOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: select g.GoodsNo as goodsNo,g.NAME1 as goodName1 from T_goods g where g.GoodsNo in (SELECT su.GoodsNo FROM SUSPENDI su where su.auto_pause = 'TRUE' ) or g.GoodsNo in (select k.GoodsNo from ITEM_STK k where k.STOCK = 0.00 ) 
08:42:17.080 [JavaFX Application Thread] DEBUG m.p.d.m.T.getOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:42:17.122 [JavaFX Application Thread] DEBUG m.p.d.m.T.getOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
08:42:18.474 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: select g.GoodsNo as goodsNo,g.NAME1 as goodName1 from PAGE_CONT as pc inner join PAGE as p on p.ID = pc.PAGE_INDEX inner join T_goods g on g.GoodsNo = pc.GoodsNo where p.TB_ID = ? 
08:42:18.475 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 2(String)
08:42:18.559 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 15
08:42:18.560 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
08:42:18.561 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0111(String)
08:42:18.569 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
08:42:18.572 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
08:42:18.573 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0125(String)
08:42:18.580 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
08:42:18.581 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
08:42:18.581 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0120(String)
08:42:18.586 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
08:42:18.587 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
08:42:18.588 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0119(String)
08:42:18.592 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
08:42:18.593 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
08:42:18.594 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0110(String)
08:42:18.597 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
08:42:18.598 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
08:42:18.599 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0109(String)
08:42:18.602 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
08:42:18.604 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
08:42:18.605 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0108(String)
08:42:18.609 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
08:42:18.611 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
08:42:18.612 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0107(String)
08:42:18.617 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
08:42:18.619 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
08:42:18.620 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0117(String)
08:42:18.624 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
08:42:18.626 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
08:42:18.627 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0115(String)
08:42:18.632 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
08:42:18.634 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
08:42:18.635 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0113(String)
08:42:18.639 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
08:42:18.641 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
08:42:18.641 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0118(String)
08:42:18.646 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
08:42:19.922 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: select g.GoodsNo as goodsNo,g.NAME1 as goodName1 from PAGE_CONT as pc inner join PAGE as p on p.ID = pc.PAGE_INDEX inner join T_goods g on g.GoodsNo = pc.GoodsNo where p.TB_ID = ? 
08:42:19.923 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 1(String)
08:42:19.931 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 4
08:42:19.932 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
08:42:19.933 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 1322(String)
08:42:19.936 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
08:42:19.938 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
08:42:19.939 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0128(String)
08:42:19.942 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
08:42:19.944 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
08:42:19.945 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0129(String)
08:42:19.948 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
08:42:19.949 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
08:42:19.950 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0127(String)
08:42:19.953 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
08:42:22.686 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:42:22.687 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:42:22.698 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:42:26.208 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==>  Preparing: select top 32 ohl.REF_NUM,rob.table_no from ORDER_HANG_LIST as ohl inner join RT_ORDER_BILL rob on rob.bill_no = ohl.ref_num where ohl.REF_NUM not in ( select top 0 oh.REF_NUM from ORDER_HANG_LIST as oh order by oh.HANG_TIME )order by ohl.HANG_TIME 
08:42:26.208 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:42:26.212 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - <==      Total: 1
08:42:32.688 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:42:32.688 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:42:32.699 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:42:42.689 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:42:42.689 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:42:42.699 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:42:52.689 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:42:52.690 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:42:52.733 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 14
08:42:52.737 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:42:52.737 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43422(Long), N(String), HANG(String)
08:42:52.740 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:42:52.757 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:42:52.758 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43421(Long), N(String), HANG(String)
08:42:52.762 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:42:52.774 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:42:52.774 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43416(Long), N(String), HANG(String)
08:42:52.783 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:42:52.787 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:42:52.788 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43417(Long), N(String), HANG(String)
08:42:52.790 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:42:52.794 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:42:52.794 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43423(Long), N(String), HANG(String)
08:42:52.797 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:42:52.800 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:42:52.801 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43420(Long), N(String), HANG(String)
08:42:52.804 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:42:52.807 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:42:52.807 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43413(Long), N(String), HANG(String)
08:42:52.810 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:42:52.814 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:42:52.815 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43414(Long), N(String), HANG(String)
08:42:52.818 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:42:52.826 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:42:52.826 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43415(Long), N(String), HANG(String)
08:42:52.835 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:42:52.839 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:42:52.839 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43418(Long), N(String), HANG(String)
08:42:52.844 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:42:52.847 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:42:52.847 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43410(Long), N(String), HANG(String)
08:42:52.850 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:42:52.853 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:42:52.854 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43419(Long), N(String), HANG(String)
08:42:52.857 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:42:52.860 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:42:52.861 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43412(Long), N(String), HANG(String)
08:42:52.864 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:42:52.867 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
08:42:52.868 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43411(Long), N(String), HANG(String)
08:42:52.871 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:42:52.886 [Timer-0] DEBUG m.p.d.m.O.deleteOrderHangListByRefNum BaseJdbcLogger.java:159 debug - ==>  Preparing: delete from ORDER_HANG_LIST with(READPAST) where REF_NUM = ? 
08:42:52.887 [Timer-0] DEBUG m.p.d.m.O.deleteOrderHangListByRefNum BaseJdbcLogger.java:159 debug - ==> Parameters: 04877(String)
08:42:52.887 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
08:42:52.888 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
08:42:52.894 [Timer-0] DEBUG m.p.d.m.O.deleteOrderHangListByRefNum BaseJdbcLogger.java:159 debug - <==    Updates: 1
08:42:52.900 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
08:42:58.914 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
08:42:58.914 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04877(String)
08:42:58.917 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
08:43:02.087 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==>  Preparing: select top 32 ohl.REF_NUM,rob.table_no from ORDER_HANG_LIST as ohl inner join RT_ORDER_BILL rob on rob.bill_no = ohl.ref_num where ohl.REF_NUM not in ( select top 0 oh.REF_NUM from ORDER_HANG_LIST as oh order by oh.HANG_TIME )order by ohl.HANG_TIME 
08:43:02.088 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:43:02.093 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - <==      Total: 0
08:43:02.692 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
08:43:02.693 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
08:43:02.703 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:34:19.901 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no, rd.sub_no, rd.type, rd.table_no, rd.goodsno, rd.order_idx, t.name1, t.print_info, rd.rt_op_date, rb.IN_DATE, rd.rt_op_time, rd.s_code, rd.seal_count, rd.amt, rd.print_state, tp.single_prt, tk.name1 as t_kic_msg, rb.pos_id, tp.name1 as print_name, rd.barcode, sc.name1 as staff, tb.zone, rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.code = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in ('UNPRINT', 'PREPRINT' , 'MSG', 'HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:34:19.988 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:34:20.561 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - <==      Total: 14
09:34:20.614 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' and t.print_info in ( '0B' ) group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select BILL_NO, MIN(RT_OP_TIME) as min_time from rt_bill_detail GROUP BY BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and rd.print_state in('HANG') and t.print_info in ( '0B' ) and exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:34:20.615 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:34:20.673 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:34:20.689 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:20.691 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43422(Long), N(String), PREPRINT(String)
09:34:20.712 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:20.715 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:20.716 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43421(Long), N(String), PREPRINT(String)
09:34:20.719 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:20.723 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:20.724 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43416(Long), N(String), PREPRINT(String)
09:34:20.730 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:20.733 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:20.734 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43417(Long), N(String), PREPRINT(String)
09:34:20.737 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:20.741 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:20.742 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43423(Long), N(String), PREPRINT(String)
09:34:20.745 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:20.748 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:20.749 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43420(Long), N(String), PREPRINT(String)
09:34:20.754 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:20.758 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:20.759 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43413(Long), N(String), PREPRINT(String)
09:34:20.762 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:20.766 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:20.766 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43414(Long), N(String), PREPRINT(String)
09:34:20.770 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:20.775 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:20.776 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43415(Long), N(String), PREPRINT(String)
09:34:20.782 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:20.786 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:20.787 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43418(Long), N(String), PREPRINT(String)
09:34:20.791 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:20.794 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:20.796 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43410(Long), N(String), PREPRINT(String)
09:34:20.799 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:20.803 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:20.806 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43419(Long), N(String), PREPRINT(String)
09:34:20.809 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:20.812 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:20.813 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43412(Long), N(String), PREPRINT(String)
09:34:20.817 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:20.823 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:20.824 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04877(String), 43411(Long), N(String), PREPRINT(String)
09:34:20.833 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:20.849 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:34:20.858 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:34:20.866 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:34:21.259 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:34:21.261 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04877(String)
09:34:21.275 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:34:26.689 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:34:26.690 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:34:26.760 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:34:31.366 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
09:34:31.368 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04877(String), N(String), 00(String)
09:34:31.459 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
09:34:33.137 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:34:33.138 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:34:33(String), 9999999(String), KVSP(String), 43422(String), 04877(String), A18(String), N(String), 0049                     (String)
09:34:33.150 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:33.151 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:33.152 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04877(String), 43422(Long), N(String), PREPRINT(String)
09:34:33.157 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:33.163 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:34:33.165 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:34:33(String), 9999999(String), KVSP(String), 43421(String), 04877(String), A18(String), N(String), 0041                     (String)
09:34:33.170 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:33.171 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:33.174 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04877(String), 43421(Long), N(String), PREPRINT(String)
09:34:33.178 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:33.183 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:34:33.185 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:34:33(String), 9999999(String), KVSP(String), 43416(String), 04877(String), A18(String), N(String), 0042                     (String)
09:34:33.188 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:33.189 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:33.191 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04877(String), 43416(Long), N(String), PREPRINT(String)
09:34:33.196 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:33.203 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:34:33.204 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:34:33(String), 9999999(String), KVSP(String), 43417(String), 04877(String), A18(String), N(String), 0047                     (String)
09:34:33.209 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:33.211 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:33.212 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04877(String), 43417(Long), N(String), PREPRINT(String)
09:34:33.216 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:33.224 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:34:33.225 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:34:33(String), 9999999(String), KVSP(String), 43423(String), 04877(String), A18(String), N(String), 1313                     (String)
09:34:33.229 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:33.231 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:33.232 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04877(String), 43423(Long), N(String), PREPRINT(String)
09:34:33.235 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:33.240 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:34:33.242 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:34:33(String), 9999999(String), KVSP(String), 43420(String), 04877(String), A18(String), N(String), 0037                     (String)
09:34:33.246 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:33.247 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:33.248 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04877(String), 43420(Long), N(String), PREPRINT(String)
09:34:33.252 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:33.256 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:34:33.259 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:34:33(String), 9999999(String), KVSP(String), 43413(String), 04877(String), A18(String), N(String), 1311                     (String)
09:34:33.264 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:33.265 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:33.266 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04877(String), 43413(Long), N(String), PREPRINT(String)
09:34:33.280 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:33.285 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:34:33.287 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:34:33(String), 9999999(String), KVSP(String), 43414(String), 04877(String), A18(String), N(String), 1312                     (String)
09:34:33.291 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:33.293 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:33.294 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04877(String), 43414(Long), N(String), PREPRINT(String)
09:34:33.298 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:33.623 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:34:33.624 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:34:33.630 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:34:36.684 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:34:36.684 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:34:36.695 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:34:46.686 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:34:46.686 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:34:46.709 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:34:52.395 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
09:34:52.396 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04877(String), N(String), 00(String)
09:34:52.399 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
09:34:53.230 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:34:53.231 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:34:53(String), 9999999(String), KVSP(String), 43414(String), 04877(String), A18(String), N(String), 1312                     (String)
09:34:53.236 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:53.237 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:53.237 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04877(String), 43414(Long), N(String), PREPRINT(String)
09:34:53.243 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:34:53.247 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:34:53.248 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:34:53(String), 9999999(String), KVSP(String), 43415(String), 04877(String), A18(String), N(String), 0039                     (String)
09:34:53.275 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:53.276 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:53.277 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04877(String), 43415(Long), N(String), PREPRINT(String)
09:34:53.297 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:53.300 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:34:53.301 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:34:53(String), 9999999(String), KVSP(String), 43418(String), 04877(String), A18(String), N(String), 0030                     (String)
09:34:53.304 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:53.305 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:53.306 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04877(String), 43418(Long), N(String), PREPRINT(String)
09:34:53.310 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:53.318 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:34:53.319 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:34:53(String), 9999999(String), KVSP(String), 43410(String), 04877(String), A18(String), N(String), 0034                     (String)
09:34:53.324 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:53.325 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:53.325 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04877(String), 43410(Long), N(String), PREPRINT(String)
09:34:53.331 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:53.335 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:34:53.335 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:34:53(String), 9999999(String), KVSP(String), 43419(String), 04877(String), A18(String), N(String), 0031                     (String)
09:34:53.342 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:53.342 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:53.343 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04877(String), 43419(Long), N(String), PREPRINT(String)
09:34:53.346 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:53.349 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:34:53.350 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:34:53(String), 9999999(String), KVSP(String), 43412(String), 04877(String), A18(String), N(String), 0032                     (String)
09:34:53.364 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:53.364 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:53.365 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04877(String), 43412(Long), N(String), PREPRINT(String)
09:34:53.368 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:53.371 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:34:53.372 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:34:53(String), 9999999(String), KVSP(String), 43411(String), 04877(String), A18(String), N(String), 0033                     (String)
09:34:53.376 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:53.376 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:34:53.377 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04877(String), 43411(Long), N(String), PREPRINT(String)
09:34:53.380 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:34:53.387 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:34:53.388 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:34:53.394 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:34:56.685 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:34:56.685 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:34:56.701 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:35:06.684 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:35:06.684 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:35:06.695 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:35:16.684 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:35:16.684 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:35:16.695 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:35:26.685 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:35:26.685 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:35:26.699 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:35:36.685 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:35:36.685 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:35:36.698 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:35:46.685 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:35:46.685 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:35:46.695 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:35:56.685 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:35:56.686 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:35:56.735 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 14
09:35:56.739 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:35:56.740 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43437(Long), N(String), UNPRINT(String)
09:35:56.743 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:35:56.747 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:35:56.748 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43432(Long), N(String), UNPRINT(String)
09:35:56.751 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:35:56.755 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:35:56.755 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43433(Long), N(String), UNPRINT(String)
09:35:56.762 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:35:56.766 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:35:56.767 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43434(Long), N(String), UNPRINT(String)
09:35:56.771 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:35:56.774 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:35:56.775 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43435(Long), N(String), UNPRINT(String)
09:35:56.780 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:35:56.783 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:35:56.784 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43436(Long), N(String), UNPRINT(String)
09:35:56.786 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:35:56.790 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:35:56.790 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43439(Long), N(String), UNPRINT(String)
09:35:56.793 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:35:56.796 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:35:56.797 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43438(Long), N(String), UNPRINT(String)
09:35:56.800 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:35:56.804 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:35:56.805 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43431(Long), N(String), UNPRINT(String)
09:35:56.808 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:35:56.811 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:35:56.812 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43428(Long), N(String), UNPRINT(String)
09:35:56.815 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:35:56.819 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:35:56.820 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43429(Long), N(String), UNPRINT(String)
09:35:56.823 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:35:56.827 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:35:56.827 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43430(Long), N(String), UNPRINT(String)
09:35:56.831 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:35:56.835 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:35:56.835 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43424(Long), N(String), UNPRINT(String)
09:35:56.839 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:35:56.842 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:35:56.843 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43425(Long), N(String), UNPRINT(String)
09:35:56.846 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:35:56.853 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:35:56.853 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:35:56.858 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:35:56.867 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:35:56.868 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04879(String)
09:35:56.874 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:36:06.686 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:36:06.686 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:36:06.696 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:36:16.686 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:36:16.686 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:36:16.697 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:36:26.687 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:36:26.687 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:36:26.700 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:37:47.158 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no, rd.sub_no, rd.type, rd.table_no, rd.goodsno, rd.order_idx, t.name1, t.print_info, rd.rt_op_date, rb.IN_DATE, rd.rt_op_time, rd.s_code, rd.seal_count, rd.amt, rd.print_state, tp.single_prt, tk.name1 as t_kic_msg, rb.pos_id, tp.name1 as print_name, rd.barcode, sc.name1 as staff, tb.zone, rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.code = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in ('UNPRINT', 'PREPRINT' , 'MSG', 'HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:37:47.246 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:37:47.848 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - <==      Total: 14
09:37:47.886 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' and t.print_info in ( '0B' ) group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select BILL_NO, MIN(RT_OP_TIME) as min_time from rt_bill_detail GROUP BY BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and rd.print_state in('HANG') and t.print_info in ( '0B' ) and exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:37:47.887 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:37:47.959 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:37:47.973 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:37:47.975 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43437(Long), N(String), PREPRINT(String)
09:37:48.000 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:37:48.005 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:37:48.006 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43432(Long), N(String), PREPRINT(String)
09:37:48.013 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:37:48.027 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:37:48.028 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43433(Long), N(String), PREPRINT(String)
09:37:48.042 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:37:48.054 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:37:48.055 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43434(Long), N(String), PREPRINT(String)
09:37:48.065 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:37:48.075 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:37:48.076 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43435(Long), N(String), PREPRINT(String)
09:37:48.083 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:37:48.094 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:37:48.095 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43436(Long), N(String), PREPRINT(String)
09:37:48.109 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:37:48.118 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:37:48.119 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43439(Long), N(String), PREPRINT(String)
09:37:48.126 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:37:48.135 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:37:48.136 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43438(Long), N(String), PREPRINT(String)
09:37:48.142 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:37:48.151 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:37:48.152 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43431(Long), N(String), PREPRINT(String)
09:37:48.161 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:37:48.175 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:37:48.175 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43428(Long), N(String), PREPRINT(String)
09:37:48.179 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:37:48.193 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:37:48.194 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43429(Long), N(String), PREPRINT(String)
09:37:48.204 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:37:48.214 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:37:48.214 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43430(Long), N(String), PREPRINT(String)
09:37:48.220 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:37:48.226 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:37:48.227 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43424(Long), N(String), PREPRINT(String)
09:37:48.231 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:37:48.235 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:37:48.237 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43425(Long), N(String), PREPRINT(String)
09:37:48.244 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:37:48.257 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:37:48.267 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:37:48.275 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:37:48.479 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:37:48.484 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04879(String)
09:37:48.494 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:37:53.234 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:37:53.235 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:37:53.312 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:38:03.236 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:38:03.236 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:38:03.248 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:38:13.232 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:38:13.232 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:38:13.243 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:38:23.232 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:38:23.232 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:38:23.246 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:38:33.232 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:38:33.233 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:38:33.244 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:38:43.234 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:38:43.234 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:38:43.245 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:38:53.234 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:38:53.235 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:38:53.254 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:39:45.420 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no, rd.sub_no, rd.type, rd.table_no, rd.goodsno, rd.order_idx, t.name1, t.print_info, rd.rt_op_date, rb.IN_DATE, rd.rt_op_time, rd.s_code, rd.seal_count, rd.amt, rd.print_state, tp.single_prt, tk.name1 as t_kic_msg, rb.pos_id, tp.name1 as print_name, rd.barcode, sc.name1 as staff, tb.zone, rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.code = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in ('UNPRINT', 'PREPRINT' , 'MSG', 'HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:39:45.549 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:39:46.060 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - <==      Total: 14
09:39:46.175 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' and t.print_info in ( '0B' ) group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select BILL_NO, MIN(RT_OP_TIME) as min_time from rt_bill_detail GROUP BY BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and rd.print_state in('HANG') and t.print_info in ( '0B' ) and exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:39:46.176 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:39:46.270 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:39:46.287 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:39:46.289 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43437(Long), N(String), PREPRINT(String)
09:39:46.375 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:39:46.411 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:39:46.412 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43432(Long), N(String), PREPRINT(String)
09:39:46.422 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:39:46.429 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:39:46.430 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43433(Long), N(String), PREPRINT(String)
09:39:46.434 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:39:46.439 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:39:46.441 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43434(Long), N(String), PREPRINT(String)
09:39:46.448 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:39:46.455 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:39:46.456 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43435(Long), N(String), PREPRINT(String)
09:39:46.461 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:39:46.468 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:39:46.469 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43436(Long), N(String), PREPRINT(String)
09:39:46.474 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:39:46.480 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:39:46.481 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43439(Long), N(String), PREPRINT(String)
09:39:46.492 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:39:46.501 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:39:46.502 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43438(Long), N(String), PREPRINT(String)
09:39:46.505 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:39:46.512 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:39:46.513 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43431(Long), N(String), PREPRINT(String)
09:39:46.518 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:39:46.524 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:39:46.525 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43428(Long), N(String), PREPRINT(String)
09:39:46.533 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:39:46.537 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:39:46.539 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43429(Long), N(String), PREPRINT(String)
09:39:46.545 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:39:46.553 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:39:46.554 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43430(Long), N(String), PREPRINT(String)
09:39:46.559 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:39:46.569 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:39:46.570 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43424(Long), N(String), PREPRINT(String)
09:39:46.574 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:39:46.581 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:39:46.582 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43425(Long), N(String), PREPRINT(String)
09:39:46.589 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:39:46.635 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:39:46.653 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:39:46.663 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:39:46.790 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:39:46.803 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04879(String)
09:39:46.850 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:39:51.795 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:39:51.795 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:39:51.866 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:40:01.794 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:40:01.795 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:40:01.806 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:40:11.795 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:40:11.795 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:40:11.809 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:40:21.795 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:40:21.795 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:40:21.807 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:41:09.191 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==>  Preparing: select top 32 ohl.REF_NUM,rob.table_no from ORDER_HANG_LIST as ohl inner join RT_ORDER_BILL rob on rob.bill_no = ohl.ref_num where ohl.REF_NUM not in ( select top 0 oh.REF_NUM from ORDER_HANG_LIST as oh order by oh.HANG_TIME )order by ohl.HANG_TIME 
09:41:09.191 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no, rd.sub_no, rd.type, rd.table_no, rd.goodsno, rd.order_idx, t.name1, t.print_info, rd.rt_op_date, rb.IN_DATE, rd.rt_op_time, rd.s_code, rd.seal_count, rd.amt, rd.print_state, tp.single_prt, tk.name1 as t_kic_msg, rb.pos_id, tp.name1 as print_name, rd.barcode, sc.name1 as staff, tb.zone, rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.code = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in ('UNPRINT', 'PREPRINT' , 'MSG', 'HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:41:09.280 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:41:09.280 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:41:09.517 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:41:09.770 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - <==      Total: 14
09:41:09.795 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' and t.print_info in ( '0B' ) group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select BILL_NO, MIN(RT_OP_TIME) as min_time from rt_bill_detail GROUP BY BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and rd.print_state in('HANG') and t.print_info in ( '0B' ) and exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:41:09.798 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:41:09.871 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:41:09.881 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:41:09.883 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43437(Long), N(String), PREPRINT(String)
09:41:09.907 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:41:09.914 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:41:09.915 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43432(Long), N(String), PREPRINT(String)
09:41:09.918 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:41:09.923 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:41:09.924 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43433(Long), N(String), PREPRINT(String)
09:41:09.927 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:41:09.930 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:41:09.932 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43434(Long), N(String), PREPRINT(String)
09:41:09.936 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:41:09.940 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:41:09.940 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43435(Long), N(String), PREPRINT(String)
09:41:09.945 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:41:09.949 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:41:09.950 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43436(Long), N(String), PREPRINT(String)
09:41:09.953 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:41:09.956 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:41:09.957 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43439(Long), N(String), PREPRINT(String)
09:41:09.961 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:41:09.968 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:41:09.969 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43438(Long), N(String), PREPRINT(String)
09:41:09.976 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:41:09.981 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:41:09.982 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43431(Long), N(String), PREPRINT(String)
09:41:09.986 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:41:09.990 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:41:09.991 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43428(Long), N(String), PREPRINT(String)
09:41:09.997 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:41:10.002 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:41:10.003 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43429(Long), N(String), PREPRINT(String)
09:41:10.008 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:41:10.012 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:41:10.013 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43430(Long), N(String), PREPRINT(String)
09:41:10.017 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:41:10.025 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:41:10.027 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43424(Long), N(String), PREPRINT(String)
09:41:10.035 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:41:10.040 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:41:10.041 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43425(Long), N(String), PREPRINT(String)
09:41:10.047 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:41:10.063 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:41:10.066 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:41:10.080 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:41:12.168 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:41:12.173 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04879(String)
09:41:12.185 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:41:14.655 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:41:14.656 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:41:14.722 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:41:24.662 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:41:24.662 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:41:24.673 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:41:34.660 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:41:34.661 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:41:34.672 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:41:44.656 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:41:44.657 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:41:44.673 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:41:54.667 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:41:54.668 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:41:54.681 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:42:04.654 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:42:04.655 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:42:04.665 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:42:14.653 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:42:14.653 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:42:14.666 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:42:24.653 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:42:24.653 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:42:24.665 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:42:50.033 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no, rd.sub_no, rd.type, rd.table_no, rd.goodsno, rd.order_idx, t.name1, t.print_info, rd.rt_op_date, rb.IN_DATE, rd.rt_op_time, rd.s_code, rd.seal_count, rd.amt, rd.print_state, tp.single_prt, tk.name1 as t_kic_msg, rb.pos_id, tp.name1 as print_name, rd.barcode, sc.name1 as staff, tb.zone, rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.code = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in ('UNPRINT', 'PREPRINT' , 'MSG', 'HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:42:50.125 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:42:50.550 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - <==      Total: 14
09:42:50.593 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' and t.print_info in ( '0B' ) group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select BILL_NO, MIN(RT_OP_TIME) as min_time from rt_bill_detail GROUP BY BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and rd.print_state in('HANG') and t.print_info in ( '0B' ) and exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:42:50.594 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:42:50.651 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:42:50.666 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:42:50.667 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43437(Long), N(String), PREPRINT(String)
09:42:50.686 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:42:50.700 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:42:50.701 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43432(Long), N(String), PREPRINT(String)
09:42:50.709 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:42:50.728 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:42:50.728 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43433(Long), N(String), PREPRINT(String)
09:42:50.735 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:42:50.746 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:42:50.747 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43434(Long), N(String), PREPRINT(String)
09:42:50.751 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:42:50.764 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:42:50.765 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43435(Long), N(String), PREPRINT(String)
09:42:50.768 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:42:50.782 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:42:50.782 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43436(Long), N(String), PREPRINT(String)
09:42:50.788 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:42:50.800 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:42:50.801 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43439(Long), N(String), PREPRINT(String)
09:42:50.806 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:42:50.820 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:42:50.821 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43438(Long), N(String), PREPRINT(String)
09:42:50.825 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:42:50.833 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:42:50.834 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43431(Long), N(String), PREPRINT(String)
09:42:50.839 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:42:50.848 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:42:50.849 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43428(Long), N(String), PREPRINT(String)
09:42:50.853 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:42:50.856 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:42:50.857 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43429(Long), N(String), PREPRINT(String)
09:42:50.860 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:42:50.864 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:42:50.864 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43430(Long), N(String), PREPRINT(String)
09:42:50.868 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:42:50.871 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:42:50.872 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43424(Long), N(String), PREPRINT(String)
09:42:50.876 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:42:50.884 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:42:50.885 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43425(Long), N(String), PREPRINT(String)
09:42:50.890 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:42:50.902 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:42:50.911 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:42:50.918 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:42:51.090 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:42:51.091 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04879(String)
09:42:51.102 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:42:57.652 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:42:57.653 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:42:57.723 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:43:07.652 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:43:07.653 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:43:07.671 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:43:17.652 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:43:17.652 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:43:17.667 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:43:17.688 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
09:43:17.689 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04879(String), N(String), 00(String)
09:43:17.694 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
09:43:19.112 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:43:19.113 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04879(String), 43437(Long), N(String)
09:43:19.120 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:43:19.124 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:43:19.125 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04879(String), 43432(Long), N(String)
09:43:19.131 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:43:19.135 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:43:19.136 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04879(String), 43433(Long), N(String)
09:43:19.139 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:43:19.146 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:43:19.147 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04879(String), 43434(Long), N(String)
09:43:19.153 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:43:19.156 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:43:19.157 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04879(String), 43435(Long), N(String)
09:43:19.160 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:43:19.163 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:43:19.164 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04879(String), 43436(Long), N(String)
09:43:19.167 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:43:19.172 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:43:19.173 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04879(String), 43439(Long), N(String)
09:43:19.176 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:43:19.180 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:43:19.181 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04879(String), 43438(Long), N(String)
09:43:19.184 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:43:19.189 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:43:19.190 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04879(String), 43431(Long), N(String)
09:43:19.194 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:43:19.197 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:43:19.198 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04879(String), 43428(Long), N(String)
09:43:19.204 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:43:19.209 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:43:19.210 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04879(String), 43429(Long), N(String)
09:43:19.213 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:43:19.217 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:43:19.218 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04879(String), 43430(Long), N(String)
09:43:19.223 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:43:19.227 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:43:19.228 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04879(String), 43424(Long), N(String)
09:43:19.232 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:43:19.235 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:43:19.236 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04879(String), 43425(Long), N(String)
09:43:19.241 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:43:19.247 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:43:19.248 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:43:19.250 [JavaFX Application Thread] DEBUG m.p.d.m.O.addOrderHangList BaseJdbcLogger.java:159 debug - ==>  Preparing: insert into ORDER_HANG_LIST values(?,?,?) 
09:43:19.251 [JavaFX Application Thread] DEBUG m.p.d.m.O.addOrderHangList BaseJdbcLogger.java:159 debug - ==> Parameters: 04879(String), 2018-01-23 09:43:19.111(Timestamp), 2018-01-23 09:44:19.111(Timestamp)
09:43:19.255 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:43:19.270 [JavaFX Application Thread] DEBUG m.p.d.m.O.addOrderHangList BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:43:27.652 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:43:27.653 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:43:27.665 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:43:37.652 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:43:37.652 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:43:37.663 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:43:42.466 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==>  Preparing: select top 32 ohl.REF_NUM,rob.table_no from ORDER_HANG_LIST as ohl inner join RT_ORDER_BILL rob on rob.bill_no = ohl.ref_num where ohl.REF_NUM not in ( select top 0 oh.REF_NUM from ORDER_HANG_LIST as oh order by oh.HANG_TIME )order by ohl.HANG_TIME 
09:43:42.466 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:43:42.473 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - <==      Total: 1
09:43:43.956 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:43:43.957 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04879(String)
09:43:43.962 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:43:47.652 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:43:47.652 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:43:47.664 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:43:57.658 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:43:57.658 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:43:57.671 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:44:07.655 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:44:07.655 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:44:07.667 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:44:17.653 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:44:17.654 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:44:17.708 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 14
09:44:17.716 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:44:17.716 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43437(Long), N(String), HANG(String)
09:44:17.725 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:44:17.738 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:44:17.739 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43432(Long), N(String), HANG(String)
09:44:17.745 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:44:17.756 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:44:17.756 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43433(Long), N(String), HANG(String)
09:44:17.762 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:44:17.768 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:44:17.769 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43434(Long), N(String), HANG(String)
09:44:17.775 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:44:17.778 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:44:17.779 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43435(Long), N(String), HANG(String)
09:44:17.783 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:44:17.787 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:44:17.787 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43436(Long), N(String), HANG(String)
09:44:17.790 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:44:17.794 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:44:17.794 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43439(Long), N(String), HANG(String)
09:44:17.797 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:44:17.800 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:44:17.801 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43438(Long), N(String), HANG(String)
09:44:17.804 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:44:17.808 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:44:17.808 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43431(Long), N(String), HANG(String)
09:44:17.812 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:44:17.815 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:44:17.816 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43428(Long), N(String), HANG(String)
09:44:17.818 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:44:17.822 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:44:17.823 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43429(Long), N(String), HANG(String)
09:44:17.827 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:44:17.831 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:44:17.832 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43430(Long), N(String), HANG(String)
09:44:17.834 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:44:17.839 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:44:17.840 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43424(Long), N(String), HANG(String)
09:44:17.843 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:44:17.849 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:44:17.849 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43425(Long), N(String), HANG(String)
09:44:17.854 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:44:17.858 [Timer-0] DEBUG m.p.d.m.O.deleteOrderHangListByRefNum BaseJdbcLogger.java:159 debug - ==>  Preparing: delete from ORDER_HANG_LIST with(READPAST) where REF_NUM = ? 
09:44:17.859 [Timer-0] DEBUG m.p.d.m.O.deleteOrderHangListByRefNum BaseJdbcLogger.java:159 debug - ==> Parameters: 04879(String)
09:44:17.859 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:44:17.869 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:44:17.873 [Timer-0] DEBUG m.p.d.m.O.deleteOrderHangListByRefNum BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:44:17.883 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:44:19.803 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:44:19.804 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04879(String)
09:44:19.807 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:44:27.659 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:44:27.660 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:44:27.678 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:45:02.387 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no, rd.sub_no, rd.type, rd.table_no, rd.goodsno, rd.order_idx, t.name1, t.print_info, rd.rt_op_date, rb.IN_DATE, rd.rt_op_time, rd.s_code, rd.seal_count, rd.amt, rd.print_state, tp.single_prt, tk.name1 as t_kic_msg, rb.pos_id, tp.name1 as print_name, rd.barcode, sc.name1 as staff, tb.zone, rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.code = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in ('UNPRINT', 'PREPRINT' , 'MSG', 'HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:45:02.466 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:45:03.098 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - <==      Total: 14
09:45:03.144 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' and t.print_info in ( '0B' ) group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select BILL_NO, MIN(RT_OP_TIME) as min_time from rt_bill_detail GROUP BY BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and rd.print_state in('HANG') and t.print_info in ( '0B' ) and exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:45:03.145 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:45:03.203 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:45:03.216 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:45:03.217 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43437(Long), N(String), PREPRINT(String)
09:45:03.235 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:03.246 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:45:03.247 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43432(Long), N(String), PREPRINT(String)
09:45:03.253 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:03.257 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:45:03.258 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43433(Long), N(String), PREPRINT(String)
09:45:03.261 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:03.266 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:45:03.267 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43434(Long), N(String), PREPRINT(String)
09:45:03.277 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:03.280 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:45:03.281 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43435(Long), N(String), PREPRINT(String)
09:45:03.284 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:03.287 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:45:03.288 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43436(Long), N(String), PREPRINT(String)
09:45:03.293 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:03.297 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:45:03.298 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43439(Long), N(String), PREPRINT(String)
09:45:03.301 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:03.304 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:45:03.305 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43438(Long), N(String), PREPRINT(String)
09:45:03.309 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:03.317 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:45:03.318 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43431(Long), N(String), PREPRINT(String)
09:45:03.322 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:03.326 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:45:03.327 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43428(Long), N(String), PREPRINT(String)
09:45:03.345 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:03.349 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:45:03.350 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43429(Long), N(String), PREPRINT(String)
09:45:03.367 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:03.383 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:45:03.384 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43430(Long), N(String), PREPRINT(String)
09:45:03.398 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:03.410 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:45:03.411 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43424(Long), N(String), PREPRINT(String)
09:45:03.419 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:03.426 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:45:03.427 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04879(String), 43425(Long), N(String), PREPRINT(String)
09:45:03.434 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:03.446 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:45:03.450 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:45:03.458 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:45:03.740 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:45:03.743 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04879(String)
09:45:03.763 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:45:08.188 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:45:08.189 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:45:08.260 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:45:18.192 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:45:18.193 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:45:18.205 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:45:22.215 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
09:45:22.216 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04879(String), N(String), 00(String)
09:45:22.222 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
09:45:23.864 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:45:23.866 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:45:23(String), 9999999(String), KVSP(String), 43437(String), 04879(String), A5(String), N(String), 0049                     (String)
09:45:23.876 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:23.877 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:45:23.878 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04879(String), 43437(Long), N(String), PREPRINT(String)
09:45:23.882 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:23.886 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:45:23.887 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:45:23(String), 9999999(String), KVSP(String), 43432(String), 04879(String), A5(String), N(String), 0042                     (String)
09:45:23.891 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:23.891 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:45:23.893 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04879(String), 43432(Long), N(String), PREPRINT(String)
09:45:23.898 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:23.905 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:45:23.906 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:45:23(String), 9999999(String), KVSP(String), 43433(String), 04879(String), A5(String), N(String), 0043                     (String)
09:45:23.909 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:23.909 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:45:23.910 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04879(String), 43433(Long), N(String), PREPRINT(String)
09:45:23.913 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:23.919 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:45:23.920 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:45:23(String), 9999999(String), KVSP(String), 43434(String), 04879(String), A5(String), N(String), 0044                     (String)
09:45:23.926 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:23.927 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:45:23.928 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04879(String), 43434(Long), N(String), PREPRINT(String)
09:45:23.934 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:23.938 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:45:23.939 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:45:23(String), 9999999(String), KVSP(String), 43435(String), 04879(String), A5(String), N(String), 0045                     (String)
09:45:23.943 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:23.944 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:45:23.945 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04879(String), 43435(Long), N(String), PREPRINT(String)
09:45:23.948 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:23.952 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:45:23.953 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:45:23(String), 9999999(String), KVSP(String), 43436(String), 04879(String), A5(String), N(String), 0046                     (String)
09:45:23.956 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:23.957 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:45:23.958 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04879(String), 43436(Long), N(String), PREPRINT(String)
09:45:23.961 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:23.966 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:45:23.966 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:45:23(String), 9999999(String), KVSP(String), 43439(String), 04879(String), A5(String), N(String), 0047                     (String)
09:45:23.969 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:23.970 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:45:23.971 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04879(String), 43439(Long), N(String), PREPRINT(String)
09:45:23.974 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:23.979 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:45:23.980 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:45:23(String), 9999999(String), KVSP(String), 43438(String), 04879(String), A5(String), N(String), 1313                     (String)
09:45:23.983 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:23.984 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:45:23.984 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04879(String), 43438(Long), N(String), PREPRINT(String)
09:45:23.988 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:23.993 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:45:23.994 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:45:23(String), 9999999(String), KVSP(String), 43431(String), 04879(String), A5(String), N(String), 0035                     (String)
09:45:23.998 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:23.999 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:45:24.000 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04879(String), 43431(Long), N(String), PREPRINT(String)
09:45:24.004 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:45:24.012 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:45:24.015 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:45:24.019 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:45:28.191 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:45:28.192 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:45:28.203 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:45:38.191 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:45:38.192 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:45:38.204 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:45:48.192 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:45:48.192 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:45:48.203 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:45:58.193 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:45:58.194 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:45:58.204 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:46:08.204 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:46:08.205 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:46:08.225 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:46:18.194 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:46:18.195 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:46:18.241 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 15
09:46:18.250 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:46:18.251 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04880(String), 43454(Long), N(String), UNPRINT(String)
09:46:18.255 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:46:18.265 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:46:18.265 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04880(String), 43450(Long), N(String), UNPRINT(String)
09:46:18.275 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:46:18.284 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:46:18.285 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04880(String), 43451(Long), N(String), UNPRINT(String)
09:46:18.289 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:46:18.303 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:46:18.303 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04880(String), 43453(Long), N(String), UNPRINT(String)
09:46:18.308 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:46:18.312 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:46:18.313 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04880(String), 43456(Long), N(String), UNPRINT(String)
09:46:18.317 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:46:18.321 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:46:18.321 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04880(String), 43455(Long), N(String), UNPRINT(String)
09:46:18.325 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:46:18.329 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:46:18.330 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04880(String), 43445(Long), N(String), UNPRINT(String)
09:46:18.332 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:46:18.337 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:46:18.337 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04880(String), 43449(Long), N(String), UNPRINT(String)
09:46:18.340 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:46:18.345 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:46:18.345 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04880(String), 43448(Long), N(String), UNPRINT(String)
09:46:18.353 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:46:18.360 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:46:18.360 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04880(String), 43452(Long), N(String), UNPRINT(String)
09:46:18.365 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:46:18.368 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:46:18.369 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04880(String), 43443(Long), N(String), UNPRINT(String)
09:46:18.372 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:46:18.375 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:46:18.376 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04880(String), 43444(Long), N(String), UNPRINT(String)
09:46:18.379 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:46:18.383 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:46:18.384 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04880(String), 43447(Long), N(String), UNPRINT(String)
09:46:18.387 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:46:18.392 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:46:18.392 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04880(String), 43441(Long), N(String), UNPRINT(String)
09:46:18.395 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:46:18.399 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:46:18.400 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04880(String), 43446(Long), N(String), UNPRINT(String)
09:46:18.405 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:46:18.465 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:46:18.468 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04880(String)
09:46:18.473 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:46:18.471 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ====>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:46:18.475 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ====> Parameters: 200101(String)
09:46:18.482 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <====      Total: 1
09:46:28.196 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:46:28.196 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:46:28.207 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:46:38.197 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:46:38.199 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:46:38.212 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:46:48.199 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:46:48.200 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:46:48.212 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:46:58.199 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:46:58.199 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:46:58.210 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:47:08.203 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:47:08.204 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:47:08.224 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:47:18.200 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:47:18.200 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:47:18.211 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:47:28.201 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:47:28.201 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:47:28.213 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:47:38.201 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:47:38.201 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:47:38.225 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 8
09:47:38.230 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:47:38.230 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04881(String), 43461(Long), N(String), UNPRINT(String)
09:47:38.235 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:47:38.240 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:47:38.240 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04881(String), 43467(Long), N(String), UNPRINT(String)
09:47:38.245 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:47:38.249 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:47:38.249 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04881(String), 43464(Long), N(String), UNPRINT(String)
09:47:38.252 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:47:38.255 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:47:38.256 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04881(String), 43465(Long), N(String), UNPRINT(String)
09:47:38.259 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:47:38.266 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:47:38.267 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04881(String), 43463(Long), N(String), UNPRINT(String)
09:47:38.270 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:47:38.276 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:47:38.277 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04881(String), 43466(Long), N(String), UNPRINT(String)
09:47:38.280 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:47:38.284 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:47:38.284 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04881(String), 43460(Long), N(String), UNPRINT(String)
09:47:38.288 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:47:38.295 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:47:38.295 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04881(String), 43462(Long), N(String), UNPRINT(String)
09:47:38.298 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:47:38.306 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:47:38.307 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:47:38.313 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:47:38.330 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:47:38.332 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04881(String)
09:47:38.341 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:47:48.201 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:47:48.201 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:47:48.219 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 2
09:47:48.222 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:47:48.223 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04882(String), 43470(Long), N(String), UNPRINT(String)
09:47:48.227 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:47:48.230 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:47:48.231 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04882(String), 43471(Long), N(String), UNPRINT(String)
09:47:48.234 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:47:48.238 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:47:48.238 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:47:48.242 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:47:48.252 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:47:48.254 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04882(String)
09:47:48.261 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:47:58.203 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:47:58.204 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:47:58.215 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:48:08.203 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:48:08.204 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:48:08.286 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 10
09:48:08.298 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:08.299 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04883(String), 43481(Long), N(String), UNPRINT(String)
09:48:08.311 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:08.314 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:08.315 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04883(String), 43483(Long), N(String), UNPRINT(String)
09:48:08.319 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:08.325 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:08.326 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04883(String), 43480(Long), N(String), UNPRINT(String)
09:48:08.334 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:08.338 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:08.338 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04883(String), 43479(Long), N(String), UNPRINT(String)
09:48:08.342 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:08.347 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:08.347 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04883(String), 43482(Long), N(String), UNPRINT(String)
09:48:08.352 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:08.356 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:08.356 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04883(String), 43473(Long), N(String), UNPRINT(String)
09:48:08.373 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:08.383 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:08.384 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04883(String), 43475(Long), N(String), UNPRINT(String)
09:48:08.398 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:08.402 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:08.402 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04883(String), 43478(Long), N(String), UNPRINT(String)
09:48:08.405 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:08.409 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:08.410 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04883(String), 43477(Long), N(String), UNPRINT(String)
09:48:08.415 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:08.421 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:08.422 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04883(String), 43476(Long), N(String), UNPRINT(String)
09:48:08.426 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:08.436 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:48:08.436 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:48:08.440 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:48:18.206 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:48:18.207 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:48:18.220 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:48:28.204 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:48:28.205 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:48:28.217 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:48:38.205 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:48:38.206 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:48:38.234 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 15
09:48:38.240 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:38.240 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43495(Long), N(String), UNPRINT(String)
09:48:38.247 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:38.258 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:38.258 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43493(Long), N(String), UNPRINT(String)
09:48:38.263 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:38.272 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:38.272 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43500(Long), N(String), UNPRINT(String)
09:48:38.277 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:38.287 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:38.287 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43499(Long), N(String), UNPRINT(String)
09:48:38.291 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:38.298 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:38.299 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43497(Long), N(String), UNPRINT(String)
09:48:38.302 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:38.306 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:38.306 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43498(Long), N(String), UNPRINT(String)
09:48:38.313 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:38.318 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:38.319 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43496(Long), N(String), UNPRINT(String)
09:48:38.321 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:38.325 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:38.325 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43494(Long), N(String), UNPRINT(String)
09:48:38.328 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:38.337 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:38.338 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43484(Long), N(String), UNPRINT(String)
09:48:38.341 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:38.344 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:38.345 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43490(Long), N(String), UNPRINT(String)
09:48:38.348 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:38.354 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:38.354 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43491(Long), N(String), UNPRINT(String)
09:48:38.358 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:38.364 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:38.364 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43485(Long), N(String), UNPRINT(String)
09:48:38.367 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:38.371 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:38.371 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43492(Long), N(String), UNPRINT(String)
09:48:38.375 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:38.378 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:38.379 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43487(Long), N(String), UNPRINT(String)
09:48:38.387 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:38.391 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:38.391 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43486(Long), N(String), UNPRINT(String)
09:48:38.394 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:38.398 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:48:38.399 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:48:38.403 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:48:47.727 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:48:47.727 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04879(String)
09:48:47.733 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:48:47.754 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:48:47.754 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04880(String)
09:48:47.759 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:48:47.774 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:48:47.775 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04881(String)
09:48:47.779 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:48:47.795 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:48:47.796 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04882(String)
09:48:47.800 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:48:48.207 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:48:48.207 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:48:48.218 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:48:48.595 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:48:48.596 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04884(String)
09:48:48.601 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:48:53.325 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
09:48:53.326 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04880(String), N(String), 00(String)
09:48:53.329 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
09:48:54.296 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:54.315 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:54(String), 9999999(String), KVSP(String), 43454(String), 04880(String), A6(String), N(String), 0049                     (String)
09:48:54.320 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:54.321 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:54.322 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04880(String), 43454(Long), N(String), PREPRINT(String)
09:48:54.326 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:54.333 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:54.333 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:54(String), 9999999(String), KVSP(String), 43450(String), 04880(String), A6(String), N(String), 0042                     (String)
09:48:54.343 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:54.343 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:54.344 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04880(String), 43450(Long), N(String), PREPRINT(String)
09:48:54.347 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:54.350 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:54.351 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:54(String), 9999999(String), KVSP(String), 43451(String), 04880(String), A6(String), N(String), 0043                     (String)
09:48:54.354 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:54.355 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:54.355 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04880(String), 43451(Long), N(String), PREPRINT(String)
09:48:54.359 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:54.364 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:54.365 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:54(String), 9999999(String), KVSP(String), 43453(String), 04880(String), A6(String), N(String), 0045                     (String)
09:48:54.367 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:54.368 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:54.368 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04880(String), 43453(Long), N(String), PREPRINT(String)
09:48:54.371 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:54.374 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:54.375 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:54(String), 9999999(String), KVSP(String), 43456(String), 04880(String), A6(String), N(String), 0047                     (String)
09:48:54.378 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:54.378 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:54.379 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04880(String), 43456(Long), N(String), PREPRINT(String)
09:48:54.382 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:54.387 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:54.388 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:54(String), 9999999(String), KVSP(String), 43455(String), 04880(String), A6(String), N(String), 1313                     (String)
09:48:54.392 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:54.392 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:54.393 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04880(String), 43455(Long), N(String), PREPRINT(String)
09:48:54.397 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:54.405 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:54.406 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:54(String), 9999999(String), KVSP(String), 43445(String), 04880(String), A6(String), N(String), 0035                     (String)
09:48:54.414 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:54.414 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:54.415 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04880(String), 43445(Long), N(String), PREPRINT(String)
09:48:54.418 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:54.422 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:54.423 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:54(String), 9999999(String), KVSP(String), 43449(String), 04880(String), A6(String), N(String), 1311                     (String)
09:48:54.426 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:54.427 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:54.427 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04880(String), 43449(Long), N(String), PREPRINT(String)
09:48:54.431 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:54.435 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:54.436 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:54(String), 9999999(String), KVSP(String), 43448(String), 04880(String), A6(String), N(String), 1312                     (String)
09:48:54.438 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:54.439 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:54.440 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04880(String), 43448(Long), N(String), PREPRINT(String)
09:48:54.443 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:54.449 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:48:54.450 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:48:54.454 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:48:55.685 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
09:48:55.686 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04880(String), N(String), 00(String)
09:48:55.691 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
09:48:56.332 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:56.333 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:56(String), 9999999(String), KVSP(String), 43448(String), 04880(String), A6(String), N(String), 1312                     (String)
09:48:56.340 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:56.341 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:56.341 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04880(String), 43448(Long), N(String), PREPRINT(String)
09:48:56.345 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:48:56.349 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:56.349 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:56(String), 9999999(String), KVSP(String), 43452(String), 04880(String), A6(String), N(String), 0040                     (String)
09:48:56.352 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:56.353 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:56.353 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04880(String), 43452(Long), N(String), PREPRINT(String)
09:48:56.359 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:56.363 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:56.364 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:56(String), 9999999(String), KVSP(String), 43443(String), 04880(String), A6(String), N(String), 0036                     (String)
09:48:56.367 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:56.368 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:56.368 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04880(String), 43443(Long), N(String), PREPRINT(String)
09:48:56.372 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:56.379 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:56.379 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:56(String), 9999999(String), KVSP(String), 43444(String), 04880(String), A6(String), N(String), 0030                     (String)
09:48:56.382 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:56.383 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:56.384 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04880(String), 43444(Long), N(String), PREPRINT(String)
09:48:56.387 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:56.390 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:56.391 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:56(String), 9999999(String), KVSP(String), 43447(String), 04880(String), A6(String), N(String), 0034                     (String)
09:48:56.394 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:56.394 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:56.395 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04880(String), 43447(Long), N(String), PREPRINT(String)
09:48:56.398 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:56.401 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:56.401 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:56(String), 9999999(String), KVSP(String), 43441(String), 04880(String), A6(String), N(String), 0032                     (String)
09:48:56.404 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:56.405 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:56.405 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04880(String), 43441(Long), N(String), PREPRINT(String)
09:48:56.410 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:56.413 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:56.413 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:56(String), 9999999(String), KVSP(String), 43446(String), 04880(String), A6(String), N(String), 0033                     (String)
09:48:56.416 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:56.417 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:56.417 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04880(String), 43446(Long), N(String), PREPRINT(String)
09:48:56.420 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:56.427 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:48:56.427 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:48:56.434 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:48:56.436 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:48:56.437 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04883(String)
09:48:56.443 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:48:56.973 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
09:48:56.973 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04882(String), N(String), 00(String)
09:48:56.976 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
09:48:57.439 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:57.439 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:57(String), 9999999(String), KVSP(String), 43470(String), 04882(String), A8(String), N(String), 0036                     (String)
09:48:57.442 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:57.444 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:57.445 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04882(String), 43470(Long), N(String), PREPRINT(String)
09:48:57.450 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:57.456 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:57.456 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:57(String), 9999999(String), KVSP(String), 43471(String), 04882(String), A8(String), N(String), 0030                     (String)
09:48:57.459 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:57.460 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:57.461 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04882(String), 43471(Long), N(String), PREPRINT(String)
09:48:57.464 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:57.469 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:48:57.469 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:48:57.473 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:48:58.077 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
09:48:58.077 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04881(String), N(String), 00(String)
09:48:58.081 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
09:48:58.207 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:48:58.208 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:48:58.219 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:48:58.723 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:58.724 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:58(String), 9999999(String), KVSP(String), 43461(String), 04881(String), A7(String), N(String), 1311                     (String)
09:48:58.730 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:58.730 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:58.731 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04881(String), 43461(Long), N(String), PREPRINT(String)
09:48:58.737 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:58.740 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:58.741 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:58(String), 9999999(String), KVSP(String), 43467(String), 04881(String), A7(String), N(String), 0040                     (String)
09:48:58.744 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:58.744 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:58.745 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04881(String), 43467(Long), N(String), PREPRINT(String)
09:48:58.751 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:58.757 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:58.758 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:58(String), 9999999(String), KVSP(String), 43464(String), 04881(String), A7(String), N(String), 0036                     (String)
09:48:58.762 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:58.763 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:58.764 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04881(String), 43464(Long), N(String), PREPRINT(String)
09:48:58.767 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:58.771 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:58.772 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:58(String), 9999999(String), KVSP(String), 43465(String), 04881(String), A7(String), N(String), 0030                     (String)
09:48:58.776 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:58.776 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:58.776 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04881(String), 43465(Long), N(String), PREPRINT(String)
09:48:58.779 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:58.784 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:58.784 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:58(String), 9999999(String), KVSP(String), 43463(String), 04881(String), A7(String), N(String), 0034                     (String)
09:48:58.790 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:58.791 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:58.791 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04881(String), 43463(Long), N(String), PREPRINT(String)
09:48:58.796 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:58.799 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:58.800 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:58(String), 9999999(String), KVSP(String), 43466(String), 04881(String), A7(String), N(String), 0031                     (String)
09:48:58.804 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:58.804 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:58.805 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04881(String), 43466(Long), N(String), PREPRINT(String)
09:48:58.808 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:58.816 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:58.816 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:58(String), 9999999(String), KVSP(String), 43460(String), 04881(String), A7(String), N(String), 0032                     (String)
09:48:58.821 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:58.821 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:58.822 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04881(String), 43460(Long), N(String), PREPRINT(String)
09:48:58.825 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:58.828 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:48:58.828 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:48:58(String), 9999999(String), KVSP(String), 43462(String), 04881(String), A7(String), N(String), 0033                     (String)
09:48:58.833 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:58.834 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:48:58.834 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04881(String), 43462(Long), N(String), PREPRINT(String)
09:48:58.837 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:48:58.844 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:48:58.844 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:48:58.849 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:48:59.341 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
09:48:59.342 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04883(String), N(String), 00(String)
09:48:59.348 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
09:49:00.015 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:00.016 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:00(String), 9999999(String), KVSP(String), 43481(String), 04883(String), A9(String), N(String), 0042                     (String)
09:49:00.019 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:00.020 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:00.021 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04883(String), 43481(Long), N(String), PREPRINT(String)
09:49:00.024 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:00.029 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:00.030 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:00(String), 9999999(String), KVSP(String), 43483(String), 04883(String), A9(String), N(String), 0043                     (String)
09:49:00.032 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:00.033 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:00.033 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04883(String), 43483(Long), N(String), PREPRINT(String)
09:49:00.037 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:00.040 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:00.041 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:00(String), 9999999(String), KVSP(String), 43480(String), 04883(String), A9(String), N(String), 0047                     (String)
09:49:00.045 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:00.045 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:00.046 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04883(String), 43480(Long), N(String), PREPRINT(String)
09:49:00.055 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:00.058 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:00.059 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:00(String), 9999999(String), KVSP(String), 43479(String), 04883(String), A9(String), N(String), 1313                     (String)
09:49:00.064 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:00.064 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:00.065 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04883(String), 43479(Long), N(String), PREPRINT(String)
09:49:00.070 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:00.073 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:00.074 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:00(String), 9999999(String), KVSP(String), 43482(String), 04883(String), A9(String), N(String), 1311                     (String)
09:49:00.076 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:00.077 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:00.077 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04883(String), 43482(Long), N(String), PREPRINT(String)
09:49:00.081 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:00.085 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:00.086 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:00(String), 9999999(String), KVSP(String), 43473(String), 04883(String), A9(String), N(String), 0036                     (String)
09:49:00.089 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:00.089 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:00.090 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04883(String), 43473(Long), N(String), PREPRINT(String)
09:49:00.094 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:00.097 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:00.097 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:00(String), 9999999(String), KVSP(String), 43475(String), 04883(String), A9(String), N(String), 0030                     (String)
09:49:00.099 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:00.100 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:00.100 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04883(String), 43475(Long), N(String), PREPRINT(String)
09:49:00.103 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:00.106 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:00.107 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:00(String), 9999999(String), KVSP(String), 43478(String), 04883(String), A9(String), N(String), 0034                     (String)
09:49:00.109 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:00.110 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:00.110 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04883(String), 43478(Long), N(String), PREPRINT(String)
09:49:00.113 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:00.116 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:00.117 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:00(String), 9999999(String), KVSP(String), 43477(String), 04883(String), A9(String), N(String), 0032                     (String)
09:49:00.121 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:00.122 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:00.122 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04883(String), 43477(Long), N(String), PREPRINT(String)
09:49:00.127 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:00.130 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:49:00.131 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:49:00.137 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:49:00.973 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
09:49:00.974 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04883(String), N(String), 00(String)
09:49:00.977 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
09:49:01.441 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:01.442 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:01(String), 9999999(String), KVSP(String), 43477(String), 04883(String), A9(String), N(String), 0032                     (String)
09:49:01.452 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:01.453 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:01.453 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04883(String), 43477(Long), N(String), PREPRINT(String)
09:49:01.457 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:49:01.462 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:01.463 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:01(String), 9999999(String), KVSP(String), 43476(String), 04883(String), A9(String), N(String), 0033                     (String)
09:49:01.466 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:01.467 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:01.467 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04883(String), 43476(Long), N(String), PREPRINT(String)
09:49:01.470 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:01.478 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:49:01.478 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:49:01.481 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:49:02.173 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
09:49:02.174 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04879(String), N(String), 00(String)
09:49:02.177 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
09:49:02.770 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:02.770 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:02(String), 9999999(String), KVSP(String), 43431(String), 04879(String), A5(String), N(String), 0035                     (String)
09:49:02.774 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:02.775 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:02.776 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04879(String), 43431(Long), N(String), PREPRINT(String)
09:49:02.779 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:49:02.783 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:02.784 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:02(String), 9999999(String), KVSP(String), 43428(String), 04879(String), A5(String), N(String), 0036                     (String)
09:49:02.787 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:02.787 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:02.788 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04879(String), 43428(Long), N(String), PREPRINT(String)
09:49:02.791 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:02.795 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:02.795 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:02(String), 9999999(String), KVSP(String), 43429(String), 04879(String), A5(String), N(String), 0030                     (String)
09:49:02.802 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:02.803 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:02.803 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04879(String), 43429(Long), N(String), PREPRINT(String)
09:49:02.808 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:02.811 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:02.812 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:02(String), 9999999(String), KVSP(String), 43430(String), 04879(String), A5(String), N(String), 0031                     (String)
09:49:02.815 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:02.815 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:02.816 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04879(String), 43430(Long), N(String), PREPRINT(String)
09:49:02.818 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:02.823 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:02.823 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:02(String), 9999999(String), KVSP(String), 43424(String), 04879(String), A5(String), N(String), 0032                     (String)
09:49:02.829 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:02.829 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:02.829 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04879(String), 43424(Long), N(String), PREPRINT(String)
09:49:02.833 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:02.841 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:02.841 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:02(String), 9999999(String), KVSP(String), 43425(String), 04879(String), A5(String), N(String), 0033                     (String)
09:49:02.844 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:02.845 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:02.845 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04879(String), 43425(Long), N(String), PREPRINT(String)
09:49:02.849 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:02.853 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:49:02.853 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:49:02.860 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:49:04.190 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:49:04.191 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04884(String)
09:49:04.196 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:49:05.013 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
09:49:05.013 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04884(String), N(String), 00(String)
09:49:05.018 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
09:49:05.770 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:05.771 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:05(String), 9999999(String), KVSP(String), 43495(String), 04884(String), A10(String), N(String), 0049                     (String)
09:49:05.774 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:05.774 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:05.775 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43495(Long), N(String), PREPRINT(String)
09:49:05.779 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:05.783 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:05.784 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:05(String), 9999999(String), KVSP(String), 43493(String), 04884(String), A10(String), N(String), 0042                     (String)
09:49:05.788 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:05.789 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:05.789 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43493(Long), N(String), PREPRINT(String)
09:49:05.793 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:05.797 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:05.798 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:05(String), 9999999(String), KVSP(String), 43500(String), 04884(String), A10(String), N(String), 0043                     (String)
09:49:05.801 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:05.802 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:05.802 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43500(Long), N(String), PREPRINT(String)
09:49:05.807 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:05.810 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:05.811 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:05(String), 9999999(String), KVSP(String), 43499(String), 04884(String), A10(String), N(String), 0044                     (String)
09:49:05.814 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:05.815 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:05.815 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43499(Long), N(String), PREPRINT(String)
09:49:05.819 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:05.823 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:05.824 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:05(String), 9999999(String), KVSP(String), 43497(String), 04884(String), A10(String), N(String), 0045                     (String)
09:49:05.829 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:05.829 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:05.830 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43497(Long), N(String), PREPRINT(String)
09:49:05.837 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:05.840 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:05.841 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:05(String), 9999999(String), KVSP(String), 43498(String), 04884(String), A10(String), N(String), 0046                     (String)
09:49:05.844 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:05.844 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:05.845 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43498(Long), N(String), PREPRINT(String)
09:49:05.849 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:05.852 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:05.852 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:05(String), 9999999(String), KVSP(String), 43496(String), 04884(String), A10(String), N(String), 0047                     (String)
09:49:05.856 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:05.857 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:05.858 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43496(Long), N(String), PREPRINT(String)
09:49:05.861 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:05.865 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:05.866 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:05(String), 9999999(String), KVSP(String), 43494(String), 04884(String), A10(String), N(String), 1313                     (String)
09:49:05.868 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:05.869 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:05.870 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43494(Long), N(String), PREPRINT(String)
09:49:05.874 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:05.881 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:05.881 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:05(String), 9999999(String), KVSP(String), 43484(String), 04884(String), A10(String), N(String), 0035                     (String)
09:49:05.886 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:05.886 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:05.887 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43484(Long), N(String), PREPRINT(String)
09:49:05.890 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:05.899 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:49:05.899 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:49:05.903 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:49:06.316 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
09:49:06.317 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04884(String), N(String), 00(String)
09:49:06.335 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
09:49:06.949 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:06.949 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:06(String), 9999999(String), KVSP(String), 43484(String), 04884(String), A10(String), N(String), 0035                     (String)
09:49:06.955 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:06.955 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:06.956 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43484(Long), N(String), PREPRINT(String)
09:49:06.959 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:49:06.967 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:06.967 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:06(String), 9999999(String), KVSP(String), 43490(String), 04884(String), A10(String), N(String), 0036                     (String)
09:49:06.970 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:06.970 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:06.971 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43490(Long), N(String), PREPRINT(String)
09:49:06.976 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:06.981 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:06.982 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:06(String), 9999999(String), KVSP(String), 43491(String), 04884(String), A10(String), N(String), 0030                     (String)
09:49:06.985 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:06.985 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:06.986 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43491(Long), N(String), PREPRINT(String)
09:49:06.990 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:06.994 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:06.995 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:06(String), 9999999(String), KVSP(String), 43485(String), 04884(String), A10(String), N(String), 0034                     (String)
09:49:07.001 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:07.001 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:07.001 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43485(Long), N(String), PREPRINT(String)
09:49:07.006 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:07.011 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:07.011 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:06(String), 9999999(String), KVSP(String), 43492(String), 04884(String), A10(String), N(String), 0031                     (String)
09:49:07.015 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:07.015 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:07.016 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43492(Long), N(String), PREPRINT(String)
09:49:07.020 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:07.026 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:07.026 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:06(String), 9999999(String), KVSP(String), 43487(String), 04884(String), A10(String), N(String), 0032                     (String)
09:49:07.029 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:07.031 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:07.031 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43487(Long), N(String), PREPRINT(String)
09:49:07.034 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:07.038 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:07.039 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:06(String), 9999999(String), KVSP(String), 43486(String), 04884(String), A10(String), N(String), 0033                     (String)
09:49:07.043 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:07.044 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:07.045 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43486(Long), N(String), PREPRINT(String)
09:49:07.048 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:07.053 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:49:07.053 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:49:07.058 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:49:08.209 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:49:08.210 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:49:08.224 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:49:10.418 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:49:10.419 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04884(String)
09:49:10.426 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:49:12.685 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
09:49:12.686 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04884(String), N(String), 00(String)
09:49:12.690 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
09:49:13.304 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:13.304 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:13(String), 9999999(String), KVSP(String), 43484(String), 04884(String), A10(String), N(String), 0035                     (String)
09:49:13.307 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:13.307 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:13.308 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43484(Long), N(String), PREPRINT(String)
09:49:13.312 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:49:13.315 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:13.315 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:13(String), 9999999(String), KVSP(String), 43490(String), 04884(String), A10(String), N(String), 0036                     (String)
09:49:13.318 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:13.318 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:13.318 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43490(Long), N(String), PREPRINT(String)
09:49:13.322 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:49:13.325 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:13.325 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:13(String), 9999999(String), KVSP(String), 43491(String), 04884(String), A10(String), N(String), 0030                     (String)
09:49:13.328 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:13.328 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:13.329 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43491(Long), N(String), PREPRINT(String)
09:49:13.334 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:49:13.338 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:13.339 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:13(String), 9999999(String), KVSP(String), 43485(String), 04884(String), A10(String), N(String), 0034                     (String)
09:49:13.342 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:13.343 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:13.343 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43485(Long), N(String), PREPRINT(String)
09:49:13.347 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:49:13.351 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:13.352 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:13(String), 9999999(String), KVSP(String), 43492(String), 04884(String), A10(String), N(String), 0031                     (String)
09:49:13.359 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:13.360 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:13.360 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43492(Long), N(String), PREPRINT(String)
09:49:13.363 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:49:13.366 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:13.367 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:13(String), 9999999(String), KVSP(String), 43487(String), 04884(String), A10(String), N(String), 0032                     (String)
09:49:13.370 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:13.370 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:13.371 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43487(Long), N(String), PREPRINT(String)
09:49:13.374 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:49:13.378 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:13.378 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:13(String), 9999999(String), KVSP(String), 43486(String), 04884(String), A10(String), N(String), 0033                     (String)
09:49:13.381 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:13.382 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:13.382 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43486(Long), N(String), PREPRINT(String)
09:49:13.386 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:49:13.988 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
09:49:13.988 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04884(String), N(String), 00(String)
09:49:13.994 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
09:49:14.607 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:14.608 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:14(String), 9999999(String), KVSP(String), 43484(String), 04884(String), A10(String), N(String), 0035                     (String)
09:49:14.611 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:14.611 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:14.612 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43484(Long), N(String), PREPRINT(String)
09:49:14.615 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:49:14.619 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:14.619 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:14(String), 9999999(String), KVSP(String), 43490(String), 04884(String), A10(String), N(String), 0036                     (String)
09:49:14.624 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:14.625 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:14.626 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43490(Long), N(String), PREPRINT(String)
09:49:14.629 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:49:14.632 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:14.633 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:14(String), 9999999(String), KVSP(String), 43491(String), 04884(String), A10(String), N(String), 0030                     (String)
09:49:14.639 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:14.640 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:14.641 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43491(Long), N(String), PREPRINT(String)
09:49:14.644 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:49:14.649 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:14.650 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:14(String), 9999999(String), KVSP(String), 43485(String), 04884(String), A10(String), N(String), 0034                     (String)
09:49:14.653 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:14.653 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:14.654 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43485(Long), N(String), PREPRINT(String)
09:49:14.657 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:49:14.660 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:14.661 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:14(String), 9999999(String), KVSP(String), 43492(String), 04884(String), A10(String), N(String), 0031                     (String)
09:49:14.664 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:14.664 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:14.665 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43492(Long), N(String), PREPRINT(String)
09:49:14.668 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:49:14.672 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:14.673 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:14(String), 9999999(String), KVSP(String), 43487(String), 04884(String), A10(String), N(String), 0032                     (String)
09:49:14.675 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:14.676 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:14.676 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43487(Long), N(String), PREPRINT(String)
09:49:14.679 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:49:14.687 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:14.688 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:14(String), 9999999(String), KVSP(String), 43486(String), 04884(String), A10(String), N(String), 0033                     (String)
09:49:14.694 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:14.695 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:14.696 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43486(Long), N(String), PREPRINT(String)
09:49:14.699 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:49:16.165 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
09:49:16.165 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04884(String), N(String), 00(String)
09:49:16.171 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
09:49:16.785 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:16.786 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:16(String), 9999999(String), KVSP(String), 43484(String), 04884(String), A10(String), N(String), 0035                     (String)
09:49:16.789 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:16.789 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:16.790 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43484(Long), N(String), PREPRINT(String)
09:49:16.800 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:49:16.808 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:16.808 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:16(String), 9999999(String), KVSP(String), 43490(String), 04884(String), A10(String), N(String), 0036                     (String)
09:49:16.811 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:16.812 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:16.813 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43490(Long), N(String), PREPRINT(String)
09:49:16.818 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:49:16.824 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:16.825 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:16(String), 9999999(String), KVSP(String), 43491(String), 04884(String), A10(String), N(String), 0030                     (String)
09:49:16.828 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:16.828 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:16.829 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43491(Long), N(String), PREPRINT(String)
09:49:16.832 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:49:16.838 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:16.838 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:16(String), 9999999(String), KVSP(String), 43485(String), 04884(String), A10(String), N(String), 0034                     (String)
09:49:16.841 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:16.842 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:16.842 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43485(Long), N(String), PREPRINT(String)
09:49:16.862 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:49:16.870 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:16.871 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:16(String), 9999999(String), KVSP(String), 43492(String), 04884(String), A10(String), N(String), 0031                     (String)
09:49:16.884 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:16.884 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:16.885 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43492(Long), N(String), PREPRINT(String)
09:49:16.891 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:49:16.896 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:16.896 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:16(String), 9999999(String), KVSP(String), 43487(String), 04884(String), A10(String), N(String), 0032                     (String)
09:49:16.902 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:16.903 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:16.904 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43487(Long), N(String), PREPRINT(String)
09:49:16.913 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:49:16.917 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:49:16.917 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:49:16(String), 9999999(String), KVSP(String), 43486(String), 04884(String), A10(String), N(String), 0033                     (String)
09:49:16.921 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:16.922 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:49:16.922 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43486(Long), N(String), PREPRINT(String)
09:49:16.925 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:49:18.210 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:49:18.210 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:49:18.222 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:49:22.437 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:49:22.438 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04884(String)
09:49:22.441 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:49:28.211 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:49:28.211 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:49:28.224 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:49:32.077 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
09:49:32.078 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04884(String), N(String), 00(String)
09:49:32.081 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
09:49:33.157 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:49:33.158 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04884(String), 43484(Long), N(String)
09:49:33.170 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:33.174 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:49:33.174 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04884(String), 43490(Long), N(String)
09:49:33.177 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:33.181 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:49:33.182 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04884(String), 43491(Long), N(String)
09:49:33.185 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:33.189 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:49:33.190 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04884(String), 43485(Long), N(String)
09:49:33.198 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:33.202 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:49:33.203 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04884(String), 43492(Long), N(String)
09:49:33.207 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:33.212 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:49:33.212 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04884(String), 43487(Long), N(String)
09:49:33.215 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:33.227 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:49:33.227 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: HANG(String), 04884(String), 43486(Long), N(String)
09:49:33.231 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:33.236 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:49:33.236 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:49:33.237 [JavaFX Application Thread] DEBUG m.p.d.m.O.addOrderHangList BaseJdbcLogger.java:159 debug - ==>  Preparing: insert into ORDER_HANG_LIST values(?,?,?) 
09:49:33.238 [JavaFX Application Thread] DEBUG m.p.d.m.O.addOrderHangList BaseJdbcLogger.java:159 debug - ==> Parameters: 04884(String), 2018-01-23 09:49:33.156(Timestamp), 2018-01-23 09:50:33.156(Timestamp)
09:49:33.240 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:49:33.261 [JavaFX Application Thread] DEBUG m.p.d.m.O.addOrderHangList BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:49:38.212 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:49:38.213 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:49:38.226 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:49:59.388 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no, rd.sub_no, rd.type, rd.table_no, rd.goodsno, rd.order_idx, t.name1, t.print_info, rd.rt_op_date, rb.IN_DATE, rd.rt_op_time, rd.s_code, rd.seal_count, rd.amt, rd.print_state, tp.single_prt, tk.name1 as t_kic_msg, rb.pos_id, tp.name1 as print_name, rd.barcode, sc.name1 as staff, tb.zone, rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.code = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in ('UNPRINT', 'PREPRINT' , 'MSG', 'HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:49:59.472 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:50:00.090 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:00.154 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' and t.print_info in ( '0B' ) group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select BILL_NO, MIN(RT_OP_TIME) as min_time from rt_bill_detail GROUP BY BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and rd.print_state in('HANG') and t.print_info in ( '0B' ) and exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:50:00.155 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:50:00.273 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 7
09:50:02.420 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==>  Preparing: select top 32 ohl.REF_NUM,rob.table_no from ORDER_HANG_LIST as ohl inner join RT_ORDER_BILL rob on rob.bill_no = ohl.ref_num where ohl.REF_NUM not in ( select top 0 oh.REF_NUM from ORDER_HANG_LIST as oh order by oh.HANG_TIME )order by ohl.HANG_TIME 
09:50:02.422 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:50:02.445 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - <==      Total: 1
09:50:05.171 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:50:05.173 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:50:05.257 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:08.958 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:50:08.960 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04884(String)
09:50:08.970 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:50:10.541 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
09:50:10.543 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04884(String), N(String), 00(String)
09:50:10.677 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:10.679 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:50:10.680 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43490(Long), N(String)
09:50:10.695 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:10.704 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:50:10.706 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:50:10(String), 9999999(String), KVSP(String), 43490(String), 04884(String), A10(String), N(String), 0036                     (String)
09:50:10.741 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:10.742 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:50:10.743 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43484(Long), N(String)
09:50:10.747 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:10.753 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:50:10.755 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:50:10(String), 9999999(String), KVSP(String), 43484(String), 04884(String), A10(String), N(String), 0035                     (String)
09:50:10.759 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:10.761 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:50:10.762 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43485(Long), N(String)
09:50:10.766 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:10.772 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:50:10.774 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:50:10(String), 9999999(String), KVSP(String), 43485(String), 04884(String), A10(String), N(String), 0034                     (String)
09:50:10.778 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:10.779 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:50:10.780 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43486(Long), N(String)
09:50:10.786 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:10.790 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:50:10.791 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:50:10(String), 9999999(String), KVSP(String), 43486(String), 04884(String), A10(String), N(String), 0033                     (String)
09:50:10.795 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:10.796 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:50:10.797 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43487(Long), N(String)
09:50:10.802 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:10.808 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:50:10.810 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:50:10(String), 9999999(String), KVSP(String), 43487(String), 04884(String), A10(String), N(String), 0032                     (String)
09:50:10.817 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:10.818 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:50:10.819 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43492(Long), N(String)
09:50:10.823 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:10.827 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:50:10.828 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:50:10(String), 9999999(String), KVSP(String), 43492(String), 04884(String), A10(String), N(String), 0031                     (String)
09:50:10.831 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:10.832 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
09:50:10.833 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43491(Long), N(String)
09:50:10.836 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:10.840 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:50:10.841 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:50:10(String), 9999999(String), KVSP(String), 43491(String), 04884(String), A10(String), N(String), 0030                     (String)
09:50:10.845 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:10.847 [JavaFX Application Thread] DEBUG m.p.d.m.O.deleteOrderHangListByRefNum BaseJdbcLogger.java:159 debug - ==>  Preparing: delete from ORDER_HANG_LIST with(READPAST) where REF_NUM = ? 
09:50:10.847 [JavaFX Application Thread] DEBUG m.p.d.m.O.deleteOrderHangListByRefNum BaseJdbcLogger.java:159 debug - ==> Parameters: 04884(String)
09:50:10.864 [JavaFX Application Thread] DEBUG m.p.d.m.O.deleteOrderHangListByRefNum BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:10.876 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:50:10.878 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:50:10.884 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:50:12.687 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:50:12.688 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:50:12(String), 9999999(String), KVSP(String), 43490(String), 04884(String), A10(String), N(String), 0036                     (String)
09:50:12.705 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:12.707 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:50:12.708 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43490(Long), N(String), PRINTED(String)
09:50:12.723 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:12.727 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:50:12.727 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:50:12(String), 9999999(String), KVSP(String), 43484(String), 04884(String), A10(String), N(String), 0035                     (String)
09:50:12.731 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:12.732 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:50:12.732 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43484(Long), N(String), PRINTED(String)
09:50:12.735 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:12.739 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:50:12.740 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:50:12(String), 9999999(String), KVSP(String), 43485(String), 04884(String), A10(String), N(String), 0034                     (String)
09:50:12.743 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:12.743 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:50:12.744 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43485(Long), N(String), PRINTED(String)
09:50:12.750 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:12.753 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:50:12.755 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:50:12(String), 9999999(String), KVSP(String), 43486(String), 04884(String), A10(String), N(String), 0033                     (String)
09:50:12.761 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:12.762 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:50:12.763 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43486(Long), N(String), PRINTED(String)
09:50:12.770 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:12.776 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:50:12.778 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:50:12(String), 9999999(String), KVSP(String), 43487(String), 04884(String), A10(String), N(String), 0032                     (String)
09:50:12.782 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:12.783 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:50:12.784 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43487(Long), N(String), PRINTED(String)
09:50:12.787 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:12.792 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:50:12.793 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:50:12(String), 9999999(String), KVSP(String), 43492(String), 04884(String), A10(String), N(String), 0031                     (String)
09:50:12.801 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:12.802 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:50:12.804 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43492(Long), N(String), PRINTED(String)
09:50:12.810 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:12.817 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:50:12.818 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:50:12(String), 9999999(String), KVSP(String), 43491(String), 04884(String), A10(String), N(String), 0030                     (String)
09:50:12.822 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:12.823 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:50:12.824 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43491(Long), N(String), PRINTED(String)
09:50:12.827 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:15.172 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:50:15.172 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:50:15.188 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:25.166 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:50:25.167 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:50:25.181 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:26.453 [JavaFX Application Thread] DEBUG m.p.d.m.T.getTopButtons BaseJdbcLogger.java:159 debug - ==>  Preparing: select * from TOP_BUTTON 
09:50:26.455 [JavaFX Application Thread] DEBUG m.p.d.m.T.getTopButtons BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:50:26.469 [JavaFX Application Thread] DEBUG m.p.d.m.T.getTopButtons BaseJdbcLogger.java:159 debug - <==      Total: 10
09:50:26.493 [JavaFX Application Thread] DEBUG m.p.d.m.T.getOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: select g.GoodsNo as goodsNo,g.NAME1 as goodName1 from T_goods g where g.GoodsNo in (SELECT su.GoodsNo FROM SUSPENDI su where su.auto_pause = 'TRUE' ) or g.GoodsNo in (select k.GoodsNo from ITEM_STK k where k.STOCK = 0.00 ) 
09:50:26.494 [JavaFX Application Thread] DEBUG m.p.d.m.T.getOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:50:26.540 [JavaFX Application Thread] DEBUG m.p.d.m.T.getOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:27.516 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: select g.GoodsNo as goodsNo,g.NAME1 as goodName1 from PAGE_CONT as pc inner join PAGE as p on p.ID = pc.PAGE_INDEX inner join T_goods g on g.GoodsNo = pc.GoodsNo where p.TB_ID = ? 
09:50:27.517 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 2(String)
09:50:27.571 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 15
09:50:27.572 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:27.573 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0111(String)
09:50:27.582 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:27.584 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:27.585 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0125(String)
09:50:27.589 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:27.590 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:27.591 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0120(String)
09:50:27.597 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:27.599 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:27.599 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0119(String)
09:50:27.604 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:27.607 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:27.608 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0110(String)
09:50:27.613 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:27.615 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:27.616 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0109(String)
09:50:27.626 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:27.627 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:27.628 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0108(String)
09:50:27.632 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:27.634 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:27.634 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0107(String)
09:50:27.638 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:27.640 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:27.640 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0117(String)
09:50:27.647 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:27.649 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:27.650 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0115(String)
09:50:27.653 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:27.654 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:27.655 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0113(String)
09:50:27.659 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:27.665 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:27.666 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0118(String)
09:50:27.669 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:28.221 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: select g.GoodsNo as goodsNo,g.NAME1 as goodName1 from PAGE_CONT as pc inner join PAGE as p on p.ID = pc.PAGE_INDEX inner join T_goods g on g.GoodsNo = pc.GoodsNo where p.TB_ID = ? 
09:50:28.221 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 1(String)
09:50:28.236 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 4
09:50:28.237 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:28.238 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 1322(String)
09:50:28.244 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:28.245 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:28.245 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0128(String)
09:50:28.249 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:28.251 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:28.251 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0129(String)
09:50:28.255 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:28.257 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:28.258 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0127(String)
09:50:28.263 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:28.869 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: select g.GoodsNo as goodsNo,g.NAME1 as goodName1 from PAGE_CONT as pc inner join PAGE as p on p.ID = pc.PAGE_INDEX inner join T_goods g on g.GoodsNo = pc.GoodsNo where p.TB_ID = ? 
09:50:28.870 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0(String)
09:50:28.878 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 19
09:50:28.880 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:28.881 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0121(String)
09:50:28.886 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:28.888 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:28.888 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0122(String)
09:50:28.892 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:28.893 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:28.894 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0085(String)
09:50:28.897 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:28.898 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:28.899 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0086(String)
09:50:28.902 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:28.904 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:28.905 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0087(String)
09:50:28.908 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:28.909 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:28.910 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0088(String)
09:50:28.915 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:28.917 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:28.917 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0089(String)
09:50:28.922 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:28.923 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:28.923 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0090(String)
09:50:28.932 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:28.933 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:28.934 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0091(String)
09:50:28.939 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:28.941 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:28.942 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0093(String)
09:50:28.946 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:28.948 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:28.949 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0094(String)
09:50:28.954 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:28.956 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
09:50:28.957 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0095(String)
09:50:28.960 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:35.167 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:50:35.168 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:50:35.186 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:45.171 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:50:45.171 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:50:45.203 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 3
09:50:45.210 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:50:45.211 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43503(Long), N(String), UNPRINT(String)
09:50:45.216 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:45.225 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:50:45.226 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43501(Long), N(String), UNPRINT(String)
09:50:45.230 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:45.240 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:50:45.241 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43502(Long), N(String), UNPRINT(String)
09:50:45.246 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:45.262 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:50:45.263 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:50:45.268 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:50:45.296 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:50:45.297 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04884(String)
09:50:45.302 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:50:55.166 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:50:55.167 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:50:55.182 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:55.299 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
09:50:55.300 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04884(String), N(String), 00(String)
09:50:55.305 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
09:50:56.003 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:50:56.004 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:50:56(String), 9999999(String), KVSP(String), 43503(String), 04884(String), A10(String), N(String), 0034                     (String)
09:50:56.012 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:56.013 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:50:56.014 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43503(Long), N(String), PREPRINT(String)
09:50:56.018 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:56.023 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:50:56.024 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:50:56(String), 9999999(String), KVSP(String), 43501(String), 04884(String), A10(String), N(String), 0032                     (String)
09:50:56.028 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:56.029 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:50:56.029 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43501(Long), N(String), PREPRINT(String)
09:50:56.032 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:56.036 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:50:56.036 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:50:56(String), 9999999(String), KVSP(String), 43502(String), 04884(String), A10(String), N(String), 0033                     (String)
09:50:56.041 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:56.042 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:50:56.042 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43502(Long), N(String), PREPRINT(String)
09:50:56.045 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:50:56.051 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:50:56.053 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:50:56.057 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:51:05.167 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:51:05.168 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:51:05.182 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:51:15.170 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:51:15.171 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:51:15.185 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:51:25.167 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:51:25.167 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:51:25.182 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:51:35.168 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:51:35.168 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:51:35.185 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:51:45.168 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:51:45.168 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:51:45.183 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:51:55.172 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:51:55.173 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:51:55.187 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:52:05.168 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:52:05.169 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:52:05.185 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:52:15.179 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:52:15.179 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:52:15.193 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:52:25.170 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:52:25.170 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:52:25.187 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:52:35.174 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:52:35.174 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:52:35.189 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:52:45.171 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:52:45.171 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:52:45.186 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:52:55.173 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:52:55.173 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:52:55.189 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:53:05.171 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:53:05.172 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:53:05.187 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:53:15.171 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:53:15.172 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:53:15.188 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:53:25.171 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:53:25.171 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:53:25.203 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 7
09:53:25.207 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:53:25.208 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43510(Long), N(String), UNPRINT(String)
09:53:25.212 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:53:25.225 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:53:25.225 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43509(Long), N(String), UNPRINT(String)
09:53:25.228 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:53:25.239 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:53:25.239 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43507(Long), N(String), UNPRINT(String)
09:53:25.243 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:53:25.253 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:53:25.254 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43506(Long), N(String), UNPRINT(String)
09:53:25.257 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:53:25.263 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:53:25.264 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43504(Long), N(String), UNPRINT(String)
09:53:25.277 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:53:25.281 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:53:25.281 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43508(Long), N(String), UNPRINT(String)
09:53:25.284 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:53:25.289 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:53:25.289 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04884(String), 43505(Long), N(String), UNPRINT(String)
09:53:25.292 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:53:25.297 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:53:25.306 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:53:25.310 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ====>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:53:25.311 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ====> Parameters: 04884(String)
09:53:25.319 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <====      Total: 1
09:53:25.331 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:53:35.172 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:53:35.173 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:53:35.241 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:53:45.171 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:53:45.172 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:53:45.183 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:53:55.170 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:53:55.171 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:53:55.183 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:54:05.172 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:54:05.172 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:54:05.189 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:54:15.174 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:54:15.174 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:54:15.187 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:54:25.172 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:54:25.173 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:54:25.185 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:54:35.171 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:54:35.172 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:54:35.182 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:54:45.175 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:54:45.176 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:54:45.211 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:54:55.175 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:54:55.175 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:54:55.186 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:55:05.173 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:55:05.174 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:55:05.185 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:55:15.174 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:55:15.175 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:55:15.189 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:55:25.174 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:55:25.174 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:55:25.195 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 5
09:55:25.200 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:55:25.201 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04885(String), 43514(Long), N(String), UNPRINT(String)
09:55:25.204 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:55:25.214 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:55:25.215 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04885(String), 43515(Long), N(String), UNPRINT(String)
09:55:25.218 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:55:25.229 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:55:25.229 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04885(String), 43513(Long), N(String), UNPRINT(String)
09:55:25.232 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:55:25.243 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:55:25.243 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04885(String), 43516(Long), N(String), UNPRINT(String)
09:55:25.248 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:55:25.252 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:55:25.252 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04885(String), 43512(Long), N(String), UNPRINT(String)
09:55:25.255 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:55:25.269 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:55:25.270 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:55:25.279 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:55:25.296 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:55:25.297 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04885(String)
09:55:25.315 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:55:35.175 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:55:35.175 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:55:35.187 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:55:45.173 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:55:45.174 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:55:45.185 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:55:55.176 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:55:55.177 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:55:55.197 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:56:05.175 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:56:05.175 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:56:05.192 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 3
09:56:05.197 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:05.197 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04886(String), 43519(Long), N(String), UNPRINT(String)
09:56:05.201 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:05.213 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:05.213 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04886(String), 43517(Long), N(String), UNPRINT(String)
09:56:05.216 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:05.226 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:05.227 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04886(String), 43518(Long), N(String), UNPRINT(String)
09:56:05.230 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:05.242 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:56:05.243 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:56:05.247 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:56:05.254 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:56:05.255 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04886(String)
09:56:05.264 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:56:15.176 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:56:15.176 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:56:15.192 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:56:25.175 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:56:25.175 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:56:25.197 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 11
09:56:25.201 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:25.202 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04887(String), 43525(Long), N(String), UNPRINT(String)
09:56:25.205 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:25.216 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:25.216 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04887(String), 43527(Long), N(String), UNPRINT(String)
09:56:25.222 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:25.231 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:25.232 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04887(String), 43526(Long), N(String), UNPRINT(String)
09:56:25.234 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:25.247 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:25.247 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04887(String), 43523(Long), N(String), UNPRINT(String)
09:56:25.250 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:25.254 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:25.254 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04887(String), 43524(Long), N(String), UNPRINT(String)
09:56:25.259 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:25.263 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:25.263 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04887(String), 43530(Long), N(String), UNPRINT(String)
09:56:25.268 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:25.274 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:25.274 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04887(String), 43531(Long), N(String), UNPRINT(String)
09:56:25.284 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:25.289 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:25.289 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04887(String), 43520(Long), N(String), UNPRINT(String)
09:56:25.297 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:25.302 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:25.303 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04887(String), 43532(Long), N(String), UNPRINT(String)
09:56:25.312 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:25.315 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:25.315 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04887(String), 43522(Long), N(String), UNPRINT(String)
09:56:25.327 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:25.334 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:25.335 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04887(String), 43521(Long), N(String), UNPRINT(String)
09:56:25.338 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:25.342 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:56:25.342 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:56:25.346 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:56:25.355 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:56:25.356 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04887(String)
09:56:25.363 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:56:30.849 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:56:30.850 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04885(String)
09:56:30.854 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:56:30.868 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:56:30.869 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04886(String)
09:56:30.875 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:56:32.233 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:56:32.234 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04884(String)
09:56:32.239 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:56:35.175 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:56:35.176 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:56:35.187 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:56:38.281 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
09:56:38.282 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04884(String), N(String), 00(String)
09:56:38.287 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
09:56:39.124 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:39.125 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:39(String), 9999999(String), KVSP(String), 43510(String), 04884(String), A10(String), N(String), 0042                     (String)
09:56:39.129 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:39.130 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:39.131 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43510(Long), N(String), PREPRINT(String)
09:56:39.136 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:39.141 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:39.142 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:39(String), 9999999(String), KVSP(String), 43509(String), 04884(String), A10(String), N(String), 1313                     (String)
09:56:39.146 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:39.147 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:39.148 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43509(Long), N(String), PREPRINT(String)
09:56:39.151 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:39.159 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:39.160 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:39(String), 9999999(String), KVSP(String), 43507(String), 04884(String), A10(String), N(String), 1311                     (String)
09:56:39.163 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:39.164 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:39.164 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43507(Long), N(String), PREPRINT(String)
09:56:39.167 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:39.175 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:39.175 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:39(String), 9999999(String), KVSP(String), 43506(String), 04884(String), A10(String), N(String), 1312                     (String)
09:56:39.184 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:39.185 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:39.186 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43506(Long), N(String), PREPRINT(String)
09:56:39.192 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:39.197 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:39.199 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:39(String), 9999999(String), KVSP(String), 43504(String), 04884(String), A10(String), N(String), 0034                     (String)
09:56:39.202 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:39.203 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:39.203 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43504(Long), N(String), PREPRINT(String)
09:56:39.211 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:39.218 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:39.219 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:39(String), 9999999(String), KVSP(String), 43508(String), 04884(String), A10(String), N(String), 0032                     (String)
09:56:39.224 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:39.225 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:39.225 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43508(Long), N(String), PREPRINT(String)
09:56:39.229 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:39.232 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:39.233 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:39(String), 9999999(String), KVSP(String), 43505(String), 04884(String), A10(String), N(String), 0033                     (String)
09:56:39.238 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:39.239 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:39.240 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04884(String), 43505(Long), N(String), PREPRINT(String)
09:56:39.244 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:39.249 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:56:39.250 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:56:39.255 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:56:44.828 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:56:44.829 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04885(String)
09:56:44.832 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:56:44.845 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:56:44.845 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04886(String)
09:56:44.849 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:56:44.858 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
09:56:44.859 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04887(String)
09:56:44.862 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
09:56:45.174 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:56:45.175 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:56:45.187 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:56:46.209 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
09:56:46.210 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04885(String), N(String), 00(String)
09:56:46.213 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
09:56:46.746 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:46.747 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:46(String), 9999999(String), KVSP(String), 43514(String), 04885(String), A11(String), N(String), 0036                     (String)
09:56:46.752 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:46.753 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:46.754 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04885(String), 43514(Long), N(String), PREPRINT(String)
09:56:46.758 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:46.763 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:46.763 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:46(String), 9999999(String), KVSP(String), 43515(String), 04885(String), A11(String), N(String), 0030                     (String)
09:56:46.768 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:46.768 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:46.769 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04885(String), 43515(Long), N(String), PREPRINT(String)
09:56:46.772 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:46.775 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:46.776 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:46(String), 9999999(String), KVSP(String), 43513(String), 04885(String), A11(String), N(String), 0034                     (String)
09:56:46.779 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:46.780 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:46.780 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04885(String), 43513(Long), N(String), PREPRINT(String)
09:56:46.786 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:46.790 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:46.791 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:46(String), 9999999(String), KVSP(String), 43516(String), 04885(String), A11(String), N(String), 0031                     (String)
09:56:46.794 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:46.795 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:46.795 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04885(String), 43516(Long), N(String), PREPRINT(String)
09:56:46.801 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:46.805 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:46.806 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:46(String), 9999999(String), KVSP(String), 43512(String), 04885(String), A11(String), N(String), 0032                     (String)
09:56:46.809 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:46.809 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:46.810 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04885(String), 43512(Long), N(String), PREPRINT(String)
09:56:46.813 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:46.817 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:56:46.818 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:56:46.819 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ====>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
09:56:46.820 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ====> Parameters: 04886(String), N(String), 00(String)
09:56:46.822 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:56:46.825 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <====      Total: 0
09:56:47.310 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:47.311 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:47(String), 9999999(String), KVSP(String), 43519(String), 04886(String), A12(String), N(String), 0034                     (String)
09:56:47.314 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:47.315 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:47.316 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04886(String), 43519(Long), N(String), PREPRINT(String)
09:56:47.319 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:47.325 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:47.326 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:47(String), 9999999(String), KVSP(String), 43517(String), 04886(String), A12(String), N(String), 0032                     (String)
09:56:47.329 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:47.330 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:47.331 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04886(String), 43517(Long), N(String), PREPRINT(String)
09:56:47.334 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:47.338 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:47.338 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:47(String), 9999999(String), KVSP(String), 43518(String), 04886(String), A12(String), N(String), 0033                     (String)
09:56:47.342 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:47.343 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:47.343 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04886(String), 43518(Long), N(String), PREPRINT(String)
09:56:47.351 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:47.359 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:56:47.359 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:56:47.365 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:56:47.374 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
09:56:47.375 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04887(String), N(String), 00(String)
09:56:47.379 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
09:56:48.044 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:48.045 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:48(String), 9999999(String), KVSP(String), 43525(String), 04887(String), A15(String), N(String), 0049                     (String)
09:56:48.053 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:48.053 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:48.054 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04887(String), 43525(Long), N(String), PREPRINT(String)
09:56:48.057 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:48.061 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:48.062 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:48(String), 9999999(String), KVSP(String), 43527(String), 04887(String), A15(String), N(String), 0042                     (String)
09:56:48.068 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:48.069 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:48.070 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04887(String), 43527(Long), N(String), PREPRINT(String)
09:56:48.075 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:48.080 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:48.080 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:48(String), 9999999(String), KVSP(String), 43526(String), 04887(String), A15(String), N(String), 1313                     (String)
09:56:48.085 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:48.085 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:48.086 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04887(String), 43526(Long), N(String), PREPRINT(String)
09:56:48.090 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:48.093 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:48.093 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:48(String), 9999999(String), KVSP(String), 43523(String), 04887(String), A15(String), N(String), 1311                     (String)
09:56:48.096 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:48.097 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:48.097 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04887(String), 43523(Long), N(String), PREPRINT(String)
09:56:48.102 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:48.105 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:48.106 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:48(String), 9999999(String), KVSP(String), 43524(String), 04887(String), A15(String), N(String), 1312                     (String)
09:56:48.110 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:48.111 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:48.111 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04887(String), 43524(Long), N(String), PREPRINT(String)
09:56:48.118 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:48.122 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:48.123 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:48(String), 9999999(String), KVSP(String), 43530(String), 04887(String), A15(String), N(String), 0036                     (String)
09:56:48.125 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:48.126 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:48.126 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04887(String), 43530(Long), N(String), PREPRINT(String)
09:56:48.131 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:48.134 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:48.135 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:48(String), 9999999(String), KVSP(String), 43531(String), 04887(String), A15(String), N(String), 0030                     (String)
09:56:48.137 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:48.138 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:48.138 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04887(String), 43531(Long), N(String), PREPRINT(String)
09:56:48.142 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:48.144 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:48.145 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:48(String), 9999999(String), KVSP(String), 43520(String), 04887(String), A15(String), N(String), 0034                     (String)
09:56:48.149 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:48.150 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:48.150 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04887(String), 43520(Long), N(String), PREPRINT(String)
09:56:48.153 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:48.156 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:48.156 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:48(String), 9999999(String), KVSP(String), 43532(String), 04887(String), A15(String), N(String), 0031                     (String)
09:56:48.159 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:48.160 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:48.160 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04887(String), 43532(Long), N(String), PREPRINT(String)
09:56:48.164 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:48.171 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:56:48.172 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:56:48.175 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:56:48.183 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
09:56:48.184 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04887(String), N(String), 00(String)
09:56:48.188 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
09:56:48.672 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:48.673 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:48(String), 9999999(String), KVSP(String), 43532(String), 04887(String), A15(String), N(String), 0031                     (String)
09:56:48.682 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:48.683 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:48.683 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04887(String), 43532(Long), N(String), PREPRINT(String)
09:56:48.689 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
09:56:48.695 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:48.695 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:48(String), 9999999(String), KVSP(String), 43522(String), 04887(String), A15(String), N(String), 0032                     (String)
09:56:48.698 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:48.698 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:48.699 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04887(String), 43522(Long), N(String), PREPRINT(String)
09:56:48.702 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:48.705 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
09:56:48.705 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 09:56:48(String), 9999999(String), KVSP(String), 43521(String), 04887(String), A15(String), N(String), 0033                     (String)
09:56:48.709 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:48.710 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
09:56:48.710 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04887(String), 43521(Long), N(String), PREPRINT(String)
09:56:48.713 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
09:56:48.722 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
09:56:48.722 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
09:56:48.727 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
09:56:55.175 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:56:55.175 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:56:55.188 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:57:05.176 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:57:05.177 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:57:05.206 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:57:06.959 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==>  Preparing: select top 32 ohl.REF_NUM,rob.table_no from ORDER_HANG_LIST as ohl inner join RT_ORDER_BILL rob on rob.bill_no = ohl.ref_num where ohl.REF_NUM not in ( select top 0 oh.REF_NUM from ORDER_HANG_LIST as oh order by oh.HANG_TIME )order by ohl.HANG_TIME 
09:57:06.960 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:57:06.964 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:57:15.175 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:57:15.176 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:57:15.188 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:57:25.176 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:57:25.176 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:57:25.187 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:57:35.176 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:57:35.177 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:57:35.188 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:57:45.187 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:57:45.188 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:57:45.201 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:57:55.178 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:57:55.179 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:57:55.191 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:58:05.204 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:58:05.205 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:58:05.218 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:58:15.198 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:58:15.198 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:58:15.209 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:58:25.198 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:58:25.198 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:58:25.211 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:58:35.197 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:58:35.198 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:58:35.208 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:58:45.197 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:58:45.197 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:58:45.209 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:58:55.199 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:58:55.199 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:58:55.213 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:59:05.197 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:59:05.197 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:59:05.209 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:59:15.197 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:59:15.198 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:59:15.209 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:59:25.202 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:59:25.203 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:59:25.214 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:59:35.196 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:59:35.197 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:59:35.208 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:59:45.196 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:59:45.197 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:59:45.208 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
09:59:55.204 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
09:59:55.204 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
09:59:55.217 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:00:05.198 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:00:05.198 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:00:05.210 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:00:15.198 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:00:15.198 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:00:15.219 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 7
10:00:15.226 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:15.226 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43541(Long), N(String), UNPRINT(String)
10:00:15.232 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:15.241 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:15.242 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43538(Long), N(String), UNPRINT(String)
10:00:15.245 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:15.254 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:15.255 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43539(Long), N(String), UNPRINT(String)
10:00:15.258 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:15.269 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:15.270 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43533(Long), N(String), UNPRINT(String)
10:00:15.274 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:15.279 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:15.279 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43540(Long), N(String), UNPRINT(String)
10:00:15.283 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:15.289 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:15.289 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43535(Long), N(String), UNPRINT(String)
10:00:15.295 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:15.299 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:15.299 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43534(Long), N(String), UNPRINT(String)
10:00:15.303 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:15.310 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:00:15.310 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:00:15.314 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:00:25.216 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:00:25.216 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:00:25.244 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:00:35.215 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:00:35.216 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:00:35.293 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 8
10:00:35.297 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:35.297 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43551(Long), N(String), UNPRINT(String)
10:00:35.302 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:35.311 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:35.311 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43544(Long), N(String), UNPRINT(String)
10:00:35.314 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:35.324 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:35.324 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43545(Long), N(String), UNPRINT(String)
10:00:35.330 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:35.347 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:35.348 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43549(Long), N(String), UNPRINT(String)
10:00:35.353 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:35.359 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:35.360 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43547(Long), N(String), UNPRINT(String)
10:00:35.368 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:35.373 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:35.374 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43546(Long), N(String), UNPRINT(String)
10:00:35.376 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:35.379 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:35.380 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43550(Long), N(String), UNPRINT(String)
10:00:35.384 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:35.387 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:35.388 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43548(Long), N(String), UNPRINT(String)
10:00:35.393 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:35.401 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:00:35.402 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:00:35.405 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:00:45.214 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:00:45.214 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:00:45.226 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:00:55.214 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:00:55.215 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:00:55.251 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 13
10:00:55.256 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:55.256 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43566(Long), N(String), UNPRINT(String)
10:00:55.261 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:55.272 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:55.273 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43552(Long), N(String), UNPRINT(String)
10:00:55.276 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:55.287 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:55.287 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43565(Long), N(String), UNPRINT(String)
10:00:55.295 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:55.314 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:55.315 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43561(Long), N(String), UNPRINT(String)
10:00:55.318 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:55.332 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:55.333 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43563(Long), N(String), UNPRINT(String)
10:00:55.340 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:55.345 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:55.345 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43562(Long), N(String), UNPRINT(String)
10:00:55.348 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:55.351 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:55.352 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43555(Long), N(String), UNPRINT(String)
10:00:55.355 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:55.358 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:55.358 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43564(Long), N(String), UNPRINT(String)
10:00:55.364 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:55.369 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:55.370 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43556(Long), N(String), UNPRINT(String)
10:00:55.373 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:55.377 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:55.377 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43559(Long), N(String), UNPRINT(String)
10:00:55.380 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:55.384 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:55.385 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43557(Long), N(String), UNPRINT(String)
10:00:55.388 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:55.391 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:55.392 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43560(Long), N(String), UNPRINT(String)
10:00:55.396 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:55.400 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:00:55.401 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43558(Long), N(String), UNPRINT(String)
10:00:55.403 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:00:55.408 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:00:55.409 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:00:55.418 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:01:05.218 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:01:05.218 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:01:05.230 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:01:15.215 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:01:15.215 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:01:15.235 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:01:25.219 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:01:25.220 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:01:25.232 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:01:35.215 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:01:35.216 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:01:35.228 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:01:45.216 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:01:45.217 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:01:45.238 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 10
10:01:45.242 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:01:45.243 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43577(Long), N(String), UNPRINT(String)
10:01:45.246 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:01:45.257 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:01:45.258 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43576(Long), N(String), UNPRINT(String)
10:01:45.263 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:01:45.271 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:01:45.271 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43574(Long), N(String), UNPRINT(String)
10:01:45.274 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:01:45.286 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:01:45.286 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43575(Long), N(String), UNPRINT(String)
10:01:45.289 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:01:45.293 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:01:45.293 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43578(Long), N(String), UNPRINT(String)
10:01:45.298 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:01:45.302 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:01:45.302 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43572(Long), N(String), UNPRINT(String)
10:01:45.304 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:01:45.310 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:01:45.310 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43571(Long), N(String), UNPRINT(String)
10:01:45.315 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:01:45.318 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:01:45.319 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43570(Long), N(String), UNPRINT(String)
10:01:45.323 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:01:45.328 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:01:45.328 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43567(Long), N(String), UNPRINT(String)
10:01:45.333 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:01:45.341 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:01:45.341 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04888(String), 43568(Long), N(String), UNPRINT(String)
10:01:45.355 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:01:45.360 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:01:45.361 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:01:45.364 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:01:55.219 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:01:55.220 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:01:55.232 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:02:05.215 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:02:05.216 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:02:05.246 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:02:15.219 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:02:15.219 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:02:15.233 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:02:25.217 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:02:25.217 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:02:25.243 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 12
10:02:25.246 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:02:25.247 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04889(String), 43590(Long), N(String), UNPRINT(String)
10:02:25.251 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:02:25.262 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:02:25.263 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04889(String), 43591(Long), N(String), UNPRINT(String)
10:02:25.267 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:02:25.276 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:02:25.276 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04889(String), 43592(Long), N(String), UNPRINT(String)
10:02:25.280 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:02:25.291 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:02:25.291 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04889(String), 43587(Long), N(String), UNPRINT(String)
10:02:25.295 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:02:25.298 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:02:25.299 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04889(String), 43588(Long), N(String), UNPRINT(String)
10:02:25.302 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:02:25.306 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:02:25.306 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04889(String), 43589(Long), N(String), UNPRINT(String)
10:02:25.309 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:02:25.315 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:02:25.316 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04889(String), 43582(Long), N(String), UNPRINT(String)
10:02:25.319 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:02:25.325 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:02:25.325 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04889(String), 43585(Long), N(String), UNPRINT(String)
10:02:25.329 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:02:25.334 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:02:25.334 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04889(String), 43581(Long), N(String), UNPRINT(String)
10:02:25.337 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:02:25.340 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:02:25.340 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04889(String), 43586(Long), N(String), UNPRINT(String)
10:02:25.344 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:02:25.347 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:02:25.348 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04889(String), 43580(Long), N(String), UNPRINT(String)
10:02:25.365 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:02:25.376 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:02:25.377 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04889(String), 43579(Long), N(String), UNPRINT(String)
10:02:25.380 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:02:25.387 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:02:25.387 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:02:25.390 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:02:31.542 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
10:02:31.543 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04888(String)
10:02:31.548 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
10:02:32.660 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
10:02:32.661 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04889(String)
10:02:32.665 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
10:02:35.217 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:02:35.217 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:02:35.229 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:02:45.218 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:02:45.218 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:02:45.230 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:02:55.217 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:02:55.218 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:02:55.240 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 4
10:02:55.243 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:02:55.243 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04890(String), 43596(Long), N(String), UNPRINT(String)
10:02:55.246 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:02:55.259 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:02:55.259 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04890(String), 43595(Long), N(String), UNPRINT(String)
10:02:55.263 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:02:55.272 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:02:55.272 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04890(String), 43594(Long), N(String), UNPRINT(String)
10:02:55.278 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:02:55.290 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:02:55.291 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04890(String), 43593(Long), N(String), UNPRINT(String)
10:02:55.294 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:02:55.299 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:02:55.299 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:02:55.302 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:02:55.306 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
10:02:55.308 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04890(String)
10:02:55.311 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
10:03:05.219 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:03:05.219 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:03:05.232 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:03:15.218 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:03:15.219 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:03:15.231 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:03:25.219 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:03:25.220 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:03:25.232 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:03:35.220 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:03:35.220 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:03:35.232 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:03:45.224 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:03:45.224 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:03:45.262 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 9
10:03:45.266 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:03:45.267 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04890(String), 43604(Long), N(String), UNPRINT(String)
10:03:45.271 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:03:45.282 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:03:45.282 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04890(String), 43603(Long), N(String), UNPRINT(String)
10:03:45.286 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:03:45.295 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:03:45.296 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04890(String), 43600(Long), N(String), UNPRINT(String)
10:03:45.300 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:03:45.309 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:03:45.309 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04890(String), 43606(Long), N(String), UNPRINT(String)
10:03:45.314 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:03:45.317 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:03:45.318 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04890(String), 43607(Long), N(String), UNPRINT(String)
10:03:45.321 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:03:45.324 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:03:45.324 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04890(String), 43599(Long), N(String), UNPRINT(String)
10:03:45.327 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:03:45.332 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:03:45.333 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04890(String), 43608(Long), N(String), UNPRINT(String)
10:03:45.335 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:03:45.339 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:03:45.340 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04890(String), 43605(Long), N(String), UNPRINT(String)
10:03:45.343 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:03:45.349 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:03:45.350 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04890(String), 43598(Long), N(String), UNPRINT(String)
10:03:45.355 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:03:45.359 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:03:45.360 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:03:45.363 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:03:55.219 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:03:55.220 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:03:55.232 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:04:05.220 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:04:05.220 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:04:05.247 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:04:15.219 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:04:15.220 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:04:15.232 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:04:25.222 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:04:25.222 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:04:25.235 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:04:35.227 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:04:35.228 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:04:35.242 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:04:45.220 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:04:45.221 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:04:45.233 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:04:55.220 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:04:55.237 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:04:55.261 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 14
10:04:55.265 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:04:55.265 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04891(String), 43623(Long), N(String), UNPRINT(String)
10:04:55.269 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:04:55.280 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:04:55.280 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04891(String), 43622(Long), N(String), UNPRINT(String)
10:04:55.283 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:04:55.294 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:04:55.295 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04891(String), 43624(Long), N(String), UNPRINT(String)
10:04:55.298 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:04:55.311 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:04:55.311 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04891(String), 43617(Long), N(String), UNPRINT(String)
10:04:55.315 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:04:55.318 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:04:55.319 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04891(String), 43618(Long), N(String), UNPRINT(String)
10:04:55.324 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:04:55.327 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:04:55.327 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04891(String), 43620(Long), N(String), UNPRINT(String)
10:04:55.332 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:04:55.335 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:04:55.336 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04891(String), 43619(Long), N(String), UNPRINT(String)
10:04:55.340 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:04:55.344 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:04:55.344 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04891(String), 43610(Long), N(String), UNPRINT(String)
10:04:55.347 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:04:55.352 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:04:55.352 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04891(String), 43621(Long), N(String), UNPRINT(String)
10:04:55.355 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:04:55.358 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:04:55.359 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04891(String), 43609(Long), N(String), UNPRINT(String)
10:04:55.361 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:04:55.368 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:04:55.368 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04891(String), 43614(Long), N(String), UNPRINT(String)
10:04:55.372 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:04:55.377 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:04:55.378 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04891(String), 43613(Long), N(String), UNPRINT(String)
10:04:55.381 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:04:55.385 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:04:55.386 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04891(String), 43616(Long), N(String), UNPRINT(String)
10:04:55.391 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:04:55.395 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:04:55.395 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04891(String), 43615(Long), N(String), UNPRINT(String)
10:04:55.399 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:04:55.406 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:04:55.406 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:04:55.409 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:04:55.411 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
10:04:55.411 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04891(String)
10:04:55.416 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
10:05:05.222 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:05:05.222 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:05:05.240 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 5
10:05:05.245 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:05:05.246 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04892(String), 43629(Long), N(String), UNPRINT(String)
10:05:05.249 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:05:05.260 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:05:05.261 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04892(String), 43627(Long), N(String), UNPRINT(String)
10:05:05.264 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:05:05.275 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:05:05.276 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04892(String), 43628(Long), N(String), UNPRINT(String)
10:05:05.278 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:05:05.289 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:05:05.289 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04892(String), 43626(Long), N(String), UNPRINT(String)
10:05:05.292 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:05:05.296 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:05:05.297 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04892(String), 43625(Long), N(String), UNPRINT(String)
10:05:05.302 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:05:05.307 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:05:05.308 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:05:05.311 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:05:15.221 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:05:15.221 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:05:15.234 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:05:25.220 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:05:25.221 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:05:25.233 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:05:35.221 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:05:35.221 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:05:35.235 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:05:45.221 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:05:45.221 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:05:45.234 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:05:55.220 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:05:55.221 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:05:55.233 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:06:05.222 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:06:05.222 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:06:05.234 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:06:15.221 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:06:15.221 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:06:15.234 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:06:25.223 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:06:25.223 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:06:25.236 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:06:35.222 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:06:35.222 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:06:35.235 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:06:45.222 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:06:45.223 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:06:45.239 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 3
10:06:45.244 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:06:45.245 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04893(String), 43635(Long), N(String), UNPRINT(String)
10:06:45.248 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:06:45.260 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:06:45.261 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04893(String), 43631(Long), N(String), UNPRINT(String)
10:06:45.264 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:06:45.274 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:06:45.274 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04893(String), 43634(Long), N(String), UNPRINT(String)
10:06:45.278 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:06:45.288 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:06:45.289 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:06:45.292 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:06:55.222 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:06:55.222 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:06:55.236 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:07:05.220 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:07:05.221 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:07:05.240 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 8
10:07:05.243 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:07:05.243 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04894(String), 43645(Long), N(String), UNPRINT(String)
10:07:05.247 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:07:05.266 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:07:05.266 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04894(String), 43644(Long), N(String), UNPRINT(String)
10:07:05.272 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:07:05.284 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:07:05.284 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04894(String), 43638(Long), N(String), UNPRINT(String)
10:07:05.290 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:07:05.308 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:07:05.308 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04894(String), 43643(Long), N(String), UNPRINT(String)
10:07:05.314 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:07:05.317 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:07:05.317 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04894(String), 43641(Long), N(String), UNPRINT(String)
10:07:05.320 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:07:05.323 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:07:05.323 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04894(String), 43637(Long), N(String), UNPRINT(String)
10:07:05.326 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:07:05.330 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:07:05.331 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04894(String), 43642(Long), N(String), UNPRINT(String)
10:07:05.333 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:07:05.338 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:07:05.339 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04894(String), 43636(Long), N(String), UNPRINT(String)
10:07:05.342 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:07:05.347 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:07:05.348 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:07:05.351 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:07:15.230 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:07:15.230 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:07:15.242 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:07:25.223 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:07:25.223 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:07:25.237 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:07:35.225 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:07:35.225 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:07:35.240 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:07:45.227 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:07:45.228 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:07:45.241 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:07:55.223 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:07:55.223 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:07:55.236 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:08:05.222 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:08:05.222 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:08:05.239 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 4
10:08:05.247 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:08:05.248 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04895(String), 43646(Long), N(String), UNPRINT(String)
10:08:05.253 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:08:05.262 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:08:05.263 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04895(String), 43649(Long), N(String), UNPRINT(String)
10:08:05.268 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:08:05.277 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:08:05.277 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04895(String), 43647(Long), N(String), UNPRINT(String)
10:08:05.280 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:08:05.292 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:08:05.292 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04895(String), 43648(Long), N(String), UNPRINT(String)
10:08:05.296 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:08:05.301 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:08:05.301 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:08:05.317 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:08:15.222 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:08:15.223 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:08:15.240 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:08:25.227 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:08:25.227 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:08:25.240 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:08:35.224 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:08:35.224 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:08:35.237 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:08:45.224 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:08:45.225 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:08:45.239 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:08:55.224 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:08:55.225 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:08:55.238 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:09:05.224 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:09:05.224 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:09:05.238 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:09:15.223 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:09:15.224 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:09:15.238 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:09:25.225 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:09:25.225 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:09:25.245 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 2
10:09:25.248 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:09:25.248 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04895(String), 43651(Long), N(String), UNPRINT(String)
10:09:25.254 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:09:25.258 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:09:25.259 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04895(String), 43650(Long), N(String), UNPRINT(String)
10:09:25.262 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:09:25.274 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:09:25.275 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:09:25.278 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:09:35.226 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:09:35.227 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:09:35.242 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:09:45.228 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:09:45.228 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:09:45.286 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 8
10:09:45.290 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:09:45.291 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04896(String), 43657(Long), N(String), UNPRINT(String)
10:09:45.295 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:09:45.305 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:09:45.306 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04896(String), 43656(Long), N(String), UNPRINT(String)
10:09:45.309 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:09:45.318 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:09:45.318 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04896(String), 43661(Long), N(String), UNPRINT(String)
10:09:45.322 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:09:45.332 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:09:45.333 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04896(String), 43659(Long), N(String), UNPRINT(String)
10:09:45.339 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:09:45.359 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:09:45.359 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04896(String), 43658(Long), N(String), UNPRINT(String)
10:09:45.370 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:09:45.376 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:09:45.376 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04896(String), 43660(Long), N(String), UNPRINT(String)
10:09:45.383 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:09:45.390 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:09:45.391 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04896(String), 43652(Long), N(String), UNPRINT(String)
10:09:45.393 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:09:45.397 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:09:45.397 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 04896(String), 43655(Long), N(String), UNPRINT(String)
10:09:45.404 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:09:45.408 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:09:45.409 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:09:45.412 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:09:55.226 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:09:55.227 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:09:55.240 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:10:05.227 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:10:05.227 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:10:05.239 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:10:15.228 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:10:15.228 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:10:15.242 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:10:20.542 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
10:10:20.543 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04888(String)
10:10:20.547 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
10:10:20.595 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
10:10:20.596 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04890(String)
10:10:20.602 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
10:10:22.651 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
10:10:22.652 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04888(String), N(String), 00(String)
10:10:22.658 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
10:10:23.444 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:23.445 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:23(String), 9999999(String), KVSP(String), 43551(String), 04888(String), A16(String), N(String), 1311                     (String)
10:10:23.448 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:23.449 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:23.449 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43551(Long), N(String), PREPRINT(String)
10:10:23.452 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:23.456 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:23.456 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:23(String), 9999999(String), KVSP(String), 43544(String), 04888(String), A16(String), N(String), 0036                     (String)
10:10:23.459 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:23.460 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:23.460 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43544(Long), N(String), PREPRINT(String)
10:10:23.465 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:23.469 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:23.469 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:23(String), 9999999(String), KVSP(String), 43545(String), 04888(String), A16(String), N(String), 0030                     (String)
10:10:23.472 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:23.472 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:23.472 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43545(Long), N(String), PREPRINT(String)
10:10:23.477 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:23.480 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
10:10:23.480 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43549(Long), N(String)
10:10:23.486 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:23.493 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:23.494 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:23(String), 9999999(String), KVSP(String), 43549(String), 04888(String), A16(String), N(String), 0034                     (String)
10:10:23.498 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:23.499 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:23.499 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:23(String), 9999999(String), KVSP(String), 43547(String), 04888(String), A16(String), N(String), 0034                     (String)
10:10:23.503 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:23.503 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:23.503 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43547(Long), N(String), PREPRINT(String)
10:10:23.506 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:23.509 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:23.510 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:23(String), 9999999(String), KVSP(String), 43546(String), 04888(String), A16(String), N(String), 0031                     (String)
10:10:23.514 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:23.514 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:23.515 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43546(Long), N(String), PREPRINT(String)
10:10:23.519 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:23.523 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:23.524 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:23(String), 9999999(String), KVSP(String), 43550(String), 04888(String), A16(String), N(String), 0032                     (String)
10:10:23.527 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:23.527 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:23.528 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43550(Long), N(String), PREPRINT(String)
10:10:23.538 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:23.543 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:23.543 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:23(String), 9999999(String), KVSP(String), 43548(String), 04888(String), A16(String), N(String), 0033                     (String)
10:10:23.546 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:23.547 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:23.547 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43548(Long), N(String), PREPRINT(String)
10:10:23.551 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:23.560 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:10:23.561 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:10:23.564 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:10:23.568 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
10:10:23.569 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04895(String)
10:10:23.573 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
10:10:23.642 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
10:10:23.643 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04888(String), N(String), 00(String)
10:10:23.649 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
10:10:24.403 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:24.404 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:24(String), 9999999(String), KVSP(String), 43566(String), 04888(String), A16(String), N(String), 0049                     (String)
10:10:24.407 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:24.408 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:24.408 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43566(Long), N(String), PREPRINT(String)
10:10:24.412 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:24.415 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:24.416 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:24(String), 9999999(String), KVSP(String), 43552(String), 04888(String), A16(String), N(String), 0043                     (String)
10:10:24.419 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:24.419 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:24.420 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43552(Long), N(String), PREPRINT(String)
10:10:24.423 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:24.426 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:24.427 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:24(String), 9999999(String), KVSP(String), 43565(String), 04888(String), A16(String), N(String), 0047                     (String)
10:10:24.430 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:24.431 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:24.431 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43565(Long), N(String), PREPRINT(String)
10:10:24.436 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:24.439 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:24.440 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:24(String), 9999999(String), KVSP(String), 43561(String), 04888(String), A16(String), N(String), 0035                     (String)
10:10:24.443 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:24.444 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:24.444 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43561(Long), N(String), PREPRINT(String)
10:10:24.448 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:24.457 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:24.457 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:24(String), 9999999(String), KVSP(String), 43563(String), 04888(String), A16(String), N(String), 1311                     (String)
10:10:24.460 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:24.461 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:24.461 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43563(Long), N(String), PREPRINT(String)
10:10:24.465 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:24.469 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:24.469 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:24(String), 9999999(String), KVSP(String), 43562(String), 04888(String), A16(String), N(String), 1312                     (String)
10:10:24.473 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:24.473 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:24.474 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43562(Long), N(String), PREPRINT(String)
10:10:24.477 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:24.480 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:24.481 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:24(String), 9999999(String), KVSP(String), 43555(String), 04888(String), A16(String), N(String), 0036                     (String)
10:10:24.484 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:24.484 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:24.485 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43555(Long), N(String), PREPRINT(String)
10:10:24.488 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:24.492 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:24.493 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:24(String), 9999999(String), KVSP(String), 43564(String), 04888(String), A16(String), N(String), 0039                     (String)
10:10:24.495 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:24.496 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:24.497 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43564(Long), N(String), PREPRINT(String)
10:10:24.500 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:24.507 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:24.508 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:24(String), 9999999(String), KVSP(String), 43556(String), 04888(String), A16(String), N(String), 0030                     (String)
10:10:24.513 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:24.513 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:24.514 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43556(Long), N(String), PREPRINT(String)
10:10:24.517 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:24.522 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:10:24.523 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:10:24.526 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:10:24.562 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
10:10:24.564 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04888(String), N(String), 00(String)
10:10:24.568 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
10:10:25.093 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:25.094 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:25(String), 9999999(String), KVSP(String), 43556(String), 04888(String), A16(String), N(String), 0030                     (String)
10:10:25.097 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:25.098 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:25.099 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43556(Long), N(String), PREPRINT(String)
10:10:25.102 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
10:10:25.107 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:25.107 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:25(String), 9999999(String), KVSP(String), 43559(String), 04888(String), A16(String), N(String), 0034                     (String)
10:10:25.113 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:25.113 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:25.114 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43559(Long), N(String), PREPRINT(String)
10:10:25.122 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:25.127 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:25.128 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:25(String), 9999999(String), KVSP(String), 43557(String), 04888(String), A16(String), N(String), 0031                     (String)
10:10:25.132 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:25.133 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:25.133 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43557(Long), N(String), PREPRINT(String)
10:10:25.137 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:25.143 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:25.144 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:25(String), 9999999(String), KVSP(String), 43560(String), 04888(String), A16(String), N(String), 0032                     (String)
10:10:25.147 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:25.148 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:25.148 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43560(Long), N(String), PREPRINT(String)
10:10:25.173 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:25.177 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:25.177 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:25(String), 9999999(String), KVSP(String), 43558(String), 04888(String), A16(String), N(String), 0033                     (String)
10:10:25.182 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:25.183 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:25.183 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43558(Long), N(String), PREPRINT(String)
10:10:25.187 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:25.190 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:10:25.191 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:10:25.193 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ====>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
10:10:25.193 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ====> Parameters: 04888(String), N(String), 00(String)
10:10:25.195 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:10:25.197 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <====      Total: 0
10:10:25.229 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:10:25.231 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:10:25.244 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:10:25.927 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:25.928 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:25(String), 9999999(String), KVSP(String), 43577(String), 04888(String), A16(String), N(String), 0049                     (String)
10:10:25.931 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:25.932 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:25.932 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43577(Long), N(String), PREPRINT(String)
10:10:25.936 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:25.943 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:25.943 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:25(String), 9999999(String), KVSP(String), 43576(String), 04888(String), A16(String), N(String), 0042                     (String)
10:10:25.946 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:25.947 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:25.948 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43576(Long), N(String), PREPRINT(String)
10:10:25.952 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:25.955 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:25.956 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:25(String), 9999999(String), KVSP(String), 43574(String), 04888(String), A16(String), N(String), 0043                     (String)
10:10:25.959 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:25.960 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:25.960 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43574(Long), N(String), PREPRINT(String)
10:10:25.967 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:25.971 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:25.972 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:25(String), 9999999(String), KVSP(String), 43575(String), 04888(String), A16(String), N(String), 0044                     (String)
10:10:26.020 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:26.021 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:26.021 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43575(Long), N(String), PREPRINT(String)
10:10:26.026 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:26.031 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:26.031 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:25(String), 9999999(String), KVSP(String), 43578(String), 04888(String), A16(String), N(String), 1313                     (String)
10:10:26.036 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:26.037 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:26.038 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43578(Long), N(String), PREPRINT(String)
10:10:26.043 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:26.049 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:26.050 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:25(String), 9999999(String), KVSP(String), 43572(String), 04888(String), A16(String), N(String), 0035                     (String)
10:10:26.055 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:26.056 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:26.056 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43572(Long), N(String), PREPRINT(String)
10:10:26.059 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:26.063 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:26.063 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:25(String), 9999999(String), KVSP(String), 43571(String), 04888(String), A16(String), N(String), 1311                     (String)
10:10:26.066 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:26.066 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:26.067 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43571(Long), N(String), PREPRINT(String)
10:10:26.072 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:26.076 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:26.077 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:25(String), 9999999(String), KVSP(String), 43570(String), 04888(String), A16(String), N(String), 0036                     (String)
10:10:26.080 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:26.081 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:26.081 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43570(Long), N(String), PREPRINT(String)
10:10:26.084 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:26.088 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:26.088 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:25(String), 9999999(String), KVSP(String), 43567(String), 04888(String), A16(String), N(String), 0032                     (String)
10:10:26.096 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:26.096 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:26.097 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43567(Long), N(String), PREPRINT(String)
10:10:26.103 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:26.107 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:10:26.108 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:10:26.111 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:10:26.117 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
10:10:26.118 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04888(String), N(String), 00(String)
10:10:26.121 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
10:10:26.584 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:26.585 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:26(String), 9999999(String), KVSP(String), 43567(String), 04888(String), A16(String), N(String), 0032                     (String)
10:10:26.588 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:26.588 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:26.589 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43567(Long), N(String), PREPRINT(String)
10:10:26.602 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
10:10:26.609 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:26.609 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:26(String), 9999999(String), KVSP(String), 43568(String), 04888(String), A16(String), N(String), 0033                     (String)
10:10:26.612 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:26.613 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:26.614 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43568(Long), N(String), PREPRINT(String)
10:10:26.622 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:26.626 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:10:26.627 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:10:26.631 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:10:26.644 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
10:10:26.645 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04890(String), N(String), 00(String)
10:10:26.652 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
10:10:27.317 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:27.318 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:27(String), 9999999(String), KVSP(String), 43604(String), 04890(String), A20(String), N(String), 0042                     (String)
10:10:27.324 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:27.324 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:27.325 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04890(String), 43604(Long), N(String), PREPRINT(String)
10:10:27.328 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:27.334 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:27.335 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:27(String), 9999999(String), KVSP(String), 43603(String), 04890(String), A20(String), N(String), 1313                     (String)
10:10:27.338 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:27.339 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:27.339 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04890(String), 43603(Long), N(String), PREPRINT(String)
10:10:27.343 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:27.348 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:27.349 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:27(String), 9999999(String), KVSP(String), 43600(String), 04890(String), A20(String), N(String), 0035                     (String)
10:10:27.352 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:27.352 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:27.353 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04890(String), 43600(Long), N(String), PREPRINT(String)
10:10:27.356 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:27.360 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:27.360 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:27(String), 9999999(String), KVSP(String), 43606(String), 04890(String), A20(String), N(String), 0036                     (String)
10:10:27.363 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:27.364 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:27.365 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04890(String), 43606(Long), N(String), PREPRINT(String)
10:10:27.368 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:27.371 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:27.372 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:27(String), 9999999(String), KVSP(String), 43607(String), 04890(String), A20(String), N(String), 0030                     (String)
10:10:27.377 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:27.377 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:27.378 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04890(String), 43607(Long), N(String), PREPRINT(String)
10:10:27.386 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:27.390 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:27.391 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:27(String), 9999999(String), KVSP(String), 43599(String), 04890(String), A20(String), N(String), 0034                     (String)
10:10:27.402 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:27.403 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:27.403 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04890(String), 43599(Long), N(String), PREPRINT(String)
10:10:27.407 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:27.410 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:27.410 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:27(String), 9999999(String), KVSP(String), 43608(String), 04890(String), A20(String), N(String), 0031                     (String)
10:10:27.413 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:27.414 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:27.415 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04890(String), 43608(Long), N(String), PREPRINT(String)
10:10:27.420 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:27.427 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:27.427 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:27(String), 9999999(String), KVSP(String), 43605(String), 04890(String), A20(String), N(String), 0032                     (String)
10:10:27.435 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:27.435 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:27.436 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04890(String), 43605(Long), N(String), PREPRINT(String)
10:10:27.440 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:27.444 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:27.445 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:27(String), 9999999(String), KVSP(String), 43598(String), 04890(String), A20(String), N(String), 0033                     (String)
10:10:27.449 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:27.450 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:27.450 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04890(String), 43598(Long), N(String), PREPRINT(String)
10:10:27.453 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:27.457 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:10:27.457 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:10:27.460 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:10:27.465 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
10:10:27.466 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04890(String), N(String), 00(String)
10:10:27.473 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
10:10:27.908 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:27.909 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:27(String), 9999999(String), KVSP(String), 43598(String), 04890(String), A20(String), N(String), 0033                     (String)
10:10:27.920 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:27.921 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:27.921 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04890(String), 43598(Long), N(String), PREPRINT(String)
10:10:27.927 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
10:10:27.933 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:10:27.934 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:10:27.939 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:10:27.939 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ====>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
10:10:27.940 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ====> Parameters: 04895(String), N(String), 00(String)
10:10:27.949 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <====      Total: 0
10:10:28.412 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:28.413 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:28(String), 9999999(String), KVSP(String), 43651(String), 04895(String), B5(String), N(String), 0032                     (String)
10:10:28.416 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:28.417 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:28.418 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04895(String), 43651(Long), N(String), PREPRINT(String)
10:10:28.424 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:28.440 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:10:28.441 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:10:28(String), 9999999(String), KVSP(String), 43650(String), 04895(String), B5(String), N(String), 0033                     (String)
10:10:28.459 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:28.459 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:10:28.460 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04895(String), 43650(Long), N(String), PREPRINT(String)
10:10:28.466 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:10:28.471 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:10:28.471 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:10:28.475 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:10:35.226 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:10:35.226 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:10:35.245 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:10:45.228 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:10:45.228 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:10:45.245 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:10:55.229 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:10:55.229 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:10:55.244 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:11:05.227 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:11:05.227 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:11:05.240 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:11:15.226 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:11:15.227 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:11:15.242 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:11:17.681 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
10:11:17.682 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04888(String)
10:11:17.686 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
10:11:17.693 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
10:11:17.694 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04889(String)
10:11:17.697 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
10:11:17.704 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
10:11:17.705 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04890(String)
10:11:17.709 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
10:11:17.715 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
10:11:17.715 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04891(String)
10:11:17.718 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
10:11:23.450 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
10:11:23.450 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04888(String), N(String), 00(String)
10:11:23.454 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
10:11:24.280 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:24.280 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:24(String), 9999999(String), KVSP(String), 43541(String), 04888(String), A16(String), N(String), 0035                     (String)
10:11:24.285 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:24.285 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:24.286 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43541(Long), N(String), PREPRINT(String)
10:11:24.289 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:24.292 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:24.293 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:24(String), 9999999(String), KVSP(String), 43538(String), 04888(String), A16(String), N(String), 0036                     (String)
10:11:24.295 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:24.296 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:24.296 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43538(Long), N(String), PREPRINT(String)
10:11:24.299 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:24.303 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:24.303 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:24(String), 9999999(String), KVSP(String), 43539(String), 04888(String), A16(String), N(String), 0030                     (String)
10:11:24.309 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:24.310 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:24.310 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43539(Long), N(String), PREPRINT(String)
10:11:24.313 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:24.316 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:24.317 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:24(String), 9999999(String), KVSP(String), 43533(String), 04888(String), A16(String), N(String), 0034                     (String)
10:11:24.319 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:24.320 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:24.320 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43533(Long), N(String), PREPRINT(String)
10:11:24.325 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:24.329 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:24.329 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:24(String), 9999999(String), KVSP(String), 43540(String), 04888(String), A16(String), N(String), 0031                     (String)
10:11:24.339 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:24.339 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:24.340 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43540(Long), N(String), PREPRINT(String)
10:11:24.343 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:24.346 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:24.347 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:24(String), 9999999(String), KVSP(String), 43535(String), 04888(String), A16(String), N(String), 0032                     (String)
10:11:24.352 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:24.352 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:24.353 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43535(Long), N(String), PREPRINT(String)
10:11:24.356 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:24.361 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:24.362 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:24(String), 9999999(String), KVSP(String), 43534(String), 04888(String), A16(String), N(String), 0033                     (String)
10:11:24.367 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:24.367 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:24.368 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04888(String), 43534(Long), N(String), PREPRINT(String)
10:11:24.372 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:24.376 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:11:24.377 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:11:24.382 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:11:24.386 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
10:11:24.386 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04892(String)
10:11:24.392 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
10:11:24.395 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
10:11:24.397 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04889(String), N(String), 00(String)
10:11:24.400 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
10:11:25.149 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:25.150 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:25(String), 9999999(String), KVSP(String), 43590(String), 04889(String), A19(String), N(String), 0043                     (String)
10:11:25.153 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.153 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:25.154 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04889(String), 43590(Long), N(String), PREPRINT(String)
10:11:25.162 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.166 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:25.167 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:25(String), 9999999(String), KVSP(String), 43591(String), 04889(String), A19(String), N(String), 0044                     (String)
10:11:25.170 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.171 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:25.171 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04889(String), 43591(Long), N(String), PREPRINT(String)
10:11:25.176 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.180 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:25.181 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:25(String), 9999999(String), KVSP(String), 43592(String), 04889(String), A19(String), N(String), 0045                     (String)
10:11:25.186 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.187 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:25.188 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04889(String), 43592(Long), N(String), PREPRINT(String)
10:11:25.192 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.196 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:25.197 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:25(String), 9999999(String), KVSP(String), 43587(String), 04889(String), A19(String), N(String), 0035                     (String)
10:11:25.201 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.201 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:25.204 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04889(String), 43587(Long), N(String), PREPRINT(String)
10:11:25.207 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.213 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:25.214 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:25(String), 9999999(String), KVSP(String), 43588(String), 04889(String), A19(String), N(String), 0037                     (String)
10:11:25.217 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.218 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:25.218 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04889(String), 43588(Long), N(String), PREPRINT(String)
10:11:25.222 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.226 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:25.226 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:25(String), 9999999(String), KVSP(String), 43589(String), 04889(String), A19(String), N(String), 1312                     (String)
10:11:25.227 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:11:25.227 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:11:25.231 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.231 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:25.232 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04889(String), 43589(Long), N(String), PREPRINT(String)
10:11:25.236 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.241 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:25.241 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:25(String), 9999999(String), KVSP(String), 43582(String), 04889(String), A19(String), N(String), 0036                     (String)
10:11:25.244 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:11:25.245 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.245 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:25.246 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04889(String), 43582(Long), N(String), PREPRINT(String)
10:11:25.250 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.253 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:25.254 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:25(String), 9999999(String), KVSP(String), 43585(String), 04889(String), A19(String), N(String), 0030                     (String)
10:11:25.256 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.257 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:25.257 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04889(String), 43585(Long), N(String), PREPRINT(String)
10:11:25.260 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.272 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:25.273 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:25(String), 9999999(String), KVSP(String), 43581(String), 04889(String), A19(String), N(String), 0034                     (String)
10:11:25.276 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.276 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:25.277 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04889(String), 43581(Long), N(String), PREPRINT(String)
10:11:25.285 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.295 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:11:25.296 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:11:25.298 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:11:25.301 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
10:11:25.302 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04889(String), N(String), 00(String)
10:11:25.306 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
10:11:25.813 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:25.814 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:25(String), 9999999(String), KVSP(String), 43581(String), 04889(String), A19(String), N(String), 0034                     (String)
10:11:25.817 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.818 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:25.818 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04889(String), 43581(Long), N(String), PREPRINT(String)
10:11:25.822 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
10:11:25.867 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:25.867 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:25(String), 9999999(String), KVSP(String), 43586(String), 04889(String), A19(String), N(String), 0031                     (String)
10:11:25.871 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.871 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:25.872 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04889(String), 43586(Long), N(String), PREPRINT(String)
10:11:25.875 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.889 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:25.889 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:25(String), 9999999(String), KVSP(String), 43580(String), 04889(String), A19(String), N(String), 0032                     (String)
10:11:25.893 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.893 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:25.894 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04889(String), 43580(Long), N(String), PREPRINT(String)
10:11:25.899 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.928 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:25.929 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:25(String), 9999999(String), KVSP(String), 43579(String), 04889(String), A19(String), N(String), 0033                     (String)
10:11:25.932 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.932 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:25.933 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04889(String), 43579(Long), N(String), PREPRINT(String)
10:11:25.935 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:25.981 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:11:25.982 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:11:25.986 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:11:25.989 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
10:11:25.992 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04893(String)
10:11:25.996 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
10:11:26.052 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
10:11:26.053 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04890(String), N(String), 00(String)
10:11:26.058 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
10:11:26.562 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:26.563 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:26(String), 9999999(String), KVSP(String), 43596(String), 04890(String), A20(String), N(String), 0036                     (String)
10:11:26.566 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:26.567 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:26.568 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04890(String), 43596(Long), N(String), PREPRINT(String)
10:11:26.572 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:26.576 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:26.576 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:26(String), 9999999(String), KVSP(String), 43595(String), 04890(String), A20(String), N(String), 0034                     (String)
10:11:26.579 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:26.580 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:26.581 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04890(String), 43595(Long), N(String), PREPRINT(String)
10:11:26.584 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:26.587 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:26.589 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:26(String), 9999999(String), KVSP(String), 43594(String), 04890(String), A20(String), N(String), 0032                     (String)
10:11:26.593 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:26.593 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:26.593 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04890(String), 43594(Long), N(String), PREPRINT(String)
10:11:26.596 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:26.600 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:26.601 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:26(String), 9999999(String), KVSP(String), 43593(String), 04890(String), A20(String), N(String), 0033                     (String)
10:11:26.606 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:26.607 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:26.608 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04890(String), 43593(Long), N(String), PREPRINT(String)
10:11:26.614 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:26.622 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:11:26.622 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:11:26.626 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:11:26.635 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
10:11:26.636 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04894(String)
10:11:26.641 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
10:11:26.709 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
10:11:26.710 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04891(String), N(String), 00(String)
10:11:26.718 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
10:11:27.470 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:27.471 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:27(String), 9999999(String), KVSP(String), 43623(String), 04891(String), A21(String), N(String), 0042                     (String)
10:11:27.475 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:27.475 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:27.476 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04891(String), 43623(Long), N(String), PREPRINT(String)
10:11:27.480 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:27.485 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:27.485 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:27(String), 9999999(String), KVSP(String), 43622(String), 04891(String), A21(String), N(String), 0043                     (String)
10:11:27.490 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:27.491 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:27.491 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04891(String), 43622(Long), N(String), PREPRINT(String)
10:11:27.495 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:27.499 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:27.499 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:27(String), 9999999(String), KVSP(String), 43624(String), 04891(String), A21(String), N(String), 0047                     (String)
10:11:27.503 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:27.503 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:27.504 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04891(String), 43624(Long), N(String), PREPRINT(String)
10:11:27.508 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:27.511 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:27.511 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:27(String), 9999999(String), KVSP(String), 43617(String), 04891(String), A21(String), N(String), 0035                     (String)
10:11:27.514 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:27.515 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:27.515 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04891(String), 43617(Long), N(String), PREPRINT(String)
10:11:27.518 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:27.522 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:27.522 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:27(String), 9999999(String), KVSP(String), 43618(String), 04891(String), A21(String), N(String), 0037                     (String)
10:11:27.525 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:27.525 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:27.526 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04891(String), 43618(Long), N(String), PREPRINT(String)
10:11:27.530 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:27.538 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:27.539 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:27(String), 9999999(String), KVSP(String), 43620(String), 04891(String), A21(String), N(String), 1311                     (String)
10:11:27.541 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:27.541 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:27.542 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04891(String), 43620(Long), N(String), PREPRINT(String)
10:11:27.548 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:27.551 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:27.551 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:27(String), 9999999(String), KVSP(String), 43619(String), 04891(String), A21(String), N(String), 1312                     (String)
10:11:27.554 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:27.554 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:27.554 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04891(String), 43619(Long), N(String), PREPRINT(String)
10:11:27.557 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:27.560 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:27.561 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:27(String), 9999999(String), KVSP(String), 43610(String), 04891(String), A21(String), N(String), 0036                     (String)
10:11:27.564 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:27.564 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:27.564 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04891(String), 43610(Long), N(String), PREPRINT(String)
10:11:27.568 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:27.572 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:27.573 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:27(String), 9999999(String), KVSP(String), 43621(String), 04891(String), A21(String), N(String), 0039                     (String)
10:11:27.575 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:27.575 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:27.575 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04891(String), 43621(Long), N(String), PREPRINT(String)
10:11:27.579 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:27.582 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:11:27.583 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:11:27.588 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ====>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
10:11:27.588 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ====> Parameters: 04891(String), N(String), 00(String)
10:11:27.597 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:11:27.600 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <====      Total: 0
10:11:28.169 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:28.170 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:28(String), 9999999(String), KVSP(String), 43621(String), 04891(String), A21(String), N(String), 0039                     (String)
10:11:28.173 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:28.173 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:28.174 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04891(String), 43621(Long), N(String), PREPRINT(String)
10:11:28.177 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
10:11:28.181 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:28.181 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:28(String), 9999999(String), KVSP(String), 43609(String), 04891(String), A21(String), N(String), 0030                     (String)
10:11:28.184 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:28.184 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:28.185 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04891(String), 43609(Long), N(String), PREPRINT(String)
10:11:28.188 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:28.192 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:28.193 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:28(String), 9999999(String), KVSP(String), 43614(String), 04891(String), A21(String), N(String), 0034                     (String)
10:11:28.196 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:28.197 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:28.197 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04891(String), 43614(Long), N(String), PREPRINT(String)
10:11:28.205 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:28.216 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:28.216 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:28(String), 9999999(String), KVSP(String), 43613(String), 04891(String), A21(String), N(String), 0031                     (String)
10:11:28.234 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:28.234 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:28.235 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04891(String), 43613(Long), N(String), PREPRINT(String)
10:11:28.239 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:28.244 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:28.245 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:28(String), 9999999(String), KVSP(String), 43616(String), 04891(String), A21(String), N(String), 0032                     (String)
10:11:28.248 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:28.248 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:28.249 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04891(String), 43616(Long), N(String), PREPRINT(String)
10:11:28.254 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:28.259 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:28.260 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:28(String), 9999999(String), KVSP(String), 43615(String), 04891(String), A21(String), N(String), 0033                     (String)
10:11:28.263 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:28.264 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:28.264 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04891(String), 43615(Long), N(String), PREPRINT(String)
10:11:28.267 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:28.271 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:11:28.271 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:11:28.275 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:11:28.278 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
10:11:28.279 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04895(String)
10:11:28.285 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
10:11:28.337 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
10:11:28.338 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04892(String), N(String), 00(String)
10:11:28.341 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
10:11:28.917 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:28.917 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:28(String), 9999999(String), KVSP(String), 43629(String), 04892(String), A22(String), N(String), 0035                     (String)
10:11:28.922 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:28.923 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:28.923 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04892(String), 43629(Long), N(String), PREPRINT(String)
10:11:28.930 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:28.935 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:28.935 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:28(String), 9999999(String), KVSP(String), 43627(String), 04892(String), A22(String), N(String), 0036                     (String)
10:11:28.939 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:28.940 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:28.940 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04892(String), 43627(Long), N(String), PREPRINT(String)
10:11:28.943 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:28.947 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:28.948 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:28(String), 9999999(String), KVSP(String), 43628(String), 04892(String), A22(String), N(String), 0030                     (String)
10:11:28.951 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:28.951 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:28.951 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04892(String), 43628(Long), N(String), PREPRINT(String)
10:11:28.954 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:28.957 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:28.957 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:28(String), 9999999(String), KVSP(String), 43626(String), 04892(String), A22(String), N(String), 0034                     (String)
10:11:28.960 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:28.960 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:28.961 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04892(String), 43626(Long), N(String), PREPRINT(String)
10:11:28.964 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:28.970 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:28.971 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:28(String), 9999999(String), KVSP(String), 43625(String), 04892(String), A22(String), N(String), 0033                     (String)
10:11:28.976 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:28.976 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:28.976 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04892(String), 43625(Long), N(String), PREPRINT(String)
10:11:28.979 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:28.982 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:11:28.983 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:11:28.986 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:11:28.989 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
10:11:28.989 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 04896(String)
10:11:28.994 [JavaFX Application Thread] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
10:11:29.035 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
10:11:29.035 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04893(String), N(String), 00(String)
10:11:29.040 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
10:11:29.523 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:29.524 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:29(String), 9999999(String), KVSP(String), 43635(String), 04893(String), B2(String), N(String), 0034                     (String)
10:11:29.528 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:29.528 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:29.530 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04893(String), 43635(Long), N(String), PREPRINT(String)
10:11:29.535 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:29.538 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:29.539 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:29(String), 9999999(String), KVSP(String), 43631(String), 04893(String), B2(String), N(String), 0032                     (String)
10:11:29.543 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:29.543 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:29.544 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04893(String), 43631(Long), N(String), PREPRINT(String)
10:11:29.547 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:29.552 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:29.553 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:29(String), 9999999(String), KVSP(String), 43634(String), 04893(String), B2(String), N(String), 0033                     (String)
10:11:29.555 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:29.556 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:29.556 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04893(String), 43634(Long), N(String), PREPRINT(String)
10:11:29.560 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:29.566 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:11:29.566 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:11:29.569 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:11:29.614 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
10:11:29.614 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04894(String), N(String), 00(String)
10:11:29.619 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
10:11:30.238 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:30.238 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:30(String), 9999999(String), KVSP(String), 43645(String), 04894(String), B3(String), N(String), 0042                     (String)
10:11:30.244 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:30.244 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:30.245 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04894(String), 43645(Long), N(String), PREPRINT(String)
10:11:30.251 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:30.255 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:30.255 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:30(String), 9999999(String), KVSP(String), 43644(String), 04894(String), B3(String), N(String), 1311                     (String)
10:11:30.260 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:30.260 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:30.260 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04894(String), 43644(Long), N(String), PREPRINT(String)
10:11:30.263 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:30.266 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:30.266 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:30(String), 9999999(String), KVSP(String), 43638(String), 04894(String), B3(String), N(String), 0036                     (String)
10:11:30.269 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:30.270 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:30.270 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04894(String), 43638(Long), N(String), PREPRINT(String)
10:11:30.274 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:30.277 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:30.277 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:30(String), 9999999(String), KVSP(String), 43643(String), 04894(String), B3(String), N(String), 0039                     (String)
10:11:30.281 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:30.281 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:30.282 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04894(String), 43643(Long), N(String), PREPRINT(String)
10:11:30.284 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:30.287 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:30.288 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:30(String), 9999999(String), KVSP(String), 43641(String), 04894(String), B3(String), N(String), 0030                     (String)
10:11:30.291 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:30.291 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:30.291 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04894(String), 43641(Long), N(String), PREPRINT(String)
10:11:30.294 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:30.301 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:30.301 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:30(String), 9999999(String), KVSP(String), 43637(String), 04894(String), B3(String), N(String), 0034                     (String)
10:11:30.305 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:30.305 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:30.306 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04894(String), 43637(Long), N(String), PREPRINT(String)
10:11:30.310 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:30.315 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:30.316 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:30(String), 9999999(String), KVSP(String), 43642(String), 04894(String), B3(String), N(String), 0031                     (String)
10:11:30.319 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:30.319 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:30.341 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04894(String), 43642(Long), N(String), PREPRINT(String)
10:11:30.345 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:30.352 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:30.352 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:30(String), 9999999(String), KVSP(String), 43636(String), 04894(String), B3(String), N(String), 0033                     (String)
10:11:30.355 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:30.355 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:30.356 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04894(String), 43636(Long), N(String), PREPRINT(String)
10:11:30.363 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:30.368 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:11:30.368 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:11:30.371 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:11:30.375 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
10:11:30.376 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 04895(String), N(String), 00(String)
10:11:30.381 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
10:11:30.900 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:30.901 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:30(String), 9999999(String), KVSP(String), 43646(String), 04895(String), B5(String), N(String), 1311                     (String)
10:11:30.903 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:30.904 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:30.904 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04895(String), 43646(Long), N(String), PREPRINT(String)
10:11:30.907 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:30.915 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:30.915 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:30(String), 9999999(String), KVSP(String), 43649(String), 04895(String), B5(String), N(String), 0036                     (String)
10:11:30.918 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:30.918 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:30.919 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04895(String), 43649(Long), N(String), PREPRINT(String)
10:11:30.923 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:30.927 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:30.927 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:30(String), 9999999(String), KVSP(String), 43647(String), 04895(String), B5(String), N(String), 0032                     (String)
10:11:30.930 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:30.930 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:30.930 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04895(String), 43647(Long), N(String), PREPRINT(String)
10:11:30.934 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:30.940 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:30.940 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:30(String), 9999999(String), KVSP(String), 43648(String), 04895(String), B5(String), N(String), 0033                     (String)
10:11:30.943 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:30.944 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:30.944 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04895(String), 43648(Long), N(String), PREPRINT(String)
10:11:30.975 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:30.988 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:11:30.989 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:11:30.993 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ====>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
10:11:30.994 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:11:30.994 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ====> Parameters: 04896(String), N(String), 00(String)
10:11:31.000 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <====      Total: 0
10:11:31.636 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:31.637 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:31(String), 9999999(String), KVSP(String), 43657(String), 04896(String), B6(String), N(String), 0042                     (String)
10:11:31.643 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:31.644 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:31.645 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04896(String), 43657(Long), N(String), PREPRINT(String)
10:11:31.651 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:31.656 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:31.656 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:31(String), 9999999(String), KVSP(String), 43656(String), 04896(String), B6(String), N(String), 1313                     (String)
10:11:31.660 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:31.660 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:31.661 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04896(String), 43656(Long), N(String), PREPRINT(String)
10:11:31.665 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:31.668 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:31.668 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:31(String), 9999999(String), KVSP(String), 43661(String), 04896(String), B6(String), N(String), 0036                     (String)
10:11:31.671 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:31.671 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:31.672 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04896(String), 43661(Long), N(String), PREPRINT(String)
10:11:31.675 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:31.679 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:31.680 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:31(String), 9999999(String), KVSP(String), 43659(String), 04896(String), B6(String), N(String), 0030                     (String)
10:11:31.687 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:31.688 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:31.689 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04896(String), 43659(Long), N(String), PREPRINT(String)
10:11:31.692 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:31.696 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:31.697 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:31(String), 9999999(String), KVSP(String), 43658(String), 04896(String), B6(String), N(String), 0034                     (String)
10:11:31.701 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:31.702 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:31.702 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04896(String), 43658(Long), N(String), PREPRINT(String)
10:11:31.705 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:31.710 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:31.711 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:31(String), 9999999(String), KVSP(String), 43660(String), 04896(String), B6(String), N(String), 0031                     (String)
10:11:31.716 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:31.716 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:31.717 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04896(String), 43660(Long), N(String), PREPRINT(String)
10:11:31.721 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:31.727 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:31.728 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:31(String), 9999999(String), KVSP(String), 43652(String), 04896(String), B6(String), N(String), 0032                     (String)
10:11:31.734 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:31.735 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:31.736 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04896(String), 43652(Long), N(String), PREPRINT(String)
10:11:31.738 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:31.745 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
10:11:31.746 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 10:11:31(String), 9999999(String), KVSP(String), 43655(String), 04896(String), B6(String), N(String), 0033                     (String)
10:11:31.749 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:31.749 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
10:11:31.750 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 04896(String), 43655(Long), N(String), PREPRINT(String)
10:11:31.756 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
10:11:31.761 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
10:11:31.761 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
10:11:31.764 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
10:11:35.227 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:11:35.227 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:11:35.260 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:11:45.231 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:11:45.231 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:11:45.247 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:11:55.226 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:11:55.227 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:11:55.248 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:12:05.228 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:12:05.228 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:12:05.241 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:12:15.227 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:12:15.227 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:12:15.240 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:12:25.228 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:12:25.228 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:12:25.242 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:12:35.228 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:12:35.228 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:12:35.281 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:12:45.226 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:12:45.227 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:12:45.240 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:12:55.226 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:12:55.227 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:12:55.242 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:13:05.228 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:13:05.228 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:13:05.241 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:13:15.226 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:13:15.227 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:13:15.240 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:13:25.226 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:13:25.227 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:13:25.239 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
10:13:35.230 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
10:13:35.230 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
10:13:35.243 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:47:11.255 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no, rd.sub_no, rd.type, rd.table_no, rd.goodsno, rd.order_idx, t.name1, t.print_info, rd.rt_op_date, rb.IN_DATE, rd.rt_op_time, rd.s_code, rd.seal_count, rd.amt, rd.print_state, tp.single_prt, tk.name1 as t_kic_msg, rb.pos_id, tp.name1 as print_name, rd.barcode, sc.name1 as staff, tb.zone, rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.code = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in ('UNPRINT', 'PREPRINT' , 'MSG', 'HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:47:11.334 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:47:11.857 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - <==      Total: 0
16:47:11.937 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' and t.print_info in ( '0B' ) group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select BILL_NO, MIN(RT_OP_TIME) as min_time from rt_bill_detail GROUP BY BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and rd.print_state in('HANG') and t.print_info in ( '0B' ) and exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:47:11.938 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:47:12.011 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:47:16.878 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:47:16.879 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:47:16.960 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:47:26.876 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:47:26.877 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:47:26.903 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:47:36.874 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:47:36.874 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:47:36.887 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:47:46.878 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:47:46.879 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:47:46.896 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:48:13.666 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no, rd.sub_no, rd.type, rd.table_no, rd.goodsno, rd.order_idx, t.name1, t.print_info, rd.rt_op_date, rb.IN_DATE, rd.rt_op_time, rd.s_code, rd.seal_count, rd.amt, rd.print_state, tp.single_prt, tk.name1 as t_kic_msg, rb.pos_id, tp.name1 as print_name, rd.barcode, sc.name1 as staff, tb.zone, rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.code = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in ('UNPRINT', 'PREPRINT' , 'MSG', 'HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:48:13.751 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:48:14.080 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - <==      Total: 25
16:48:14.121 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' and t.print_info in ( '0B' ) group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select BILL_NO, MIN(RT_OP_TIME) as min_time from rt_bill_detail GROUP BY BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and rd.print_state in('HANG') and t.print_info in ( '0B' ) and exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:48:14.122 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:48:14.228 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:48:14.245 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.247 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135217(Long), N(String), PREPRINT(String)
16:48:14.256 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.269 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.270 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135218(Long), N(String), PREPRINT(String)
16:48:14.277 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.287 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.288 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135213(Long), N(String), PREPRINT(String)
16:48:14.295 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.306 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.310 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135214(Long), N(String), PREPRINT(String)
16:48:14.321 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.329 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.331 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135216(Long), N(String), PREPRINT(String)
16:48:14.335 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.341 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.342 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135229(Long), N(String), PREPRINT(String)
16:48:14.348 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.359 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.361 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135211(Long), N(String), PREPRINT(String)
16:48:14.368 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.379 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.380 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135212(Long), N(String), PREPRINT(String)
16:48:14.388 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.393 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.394 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135215(Long), N(String), PREPRINT(String)
16:48:14.400 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.408 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.408 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135226(Long), N(String), PREPRINT(String)
16:48:14.412 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.416 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.418 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135231(Long), N(String), PREPRINT(String)
16:48:14.422 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.426 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.427 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135219(Long), N(String), PREPRINT(String)
16:48:14.430 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.434 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.434 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135221(Long), N(String), PREPRINT(String)
16:48:14.440 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.445 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.447 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135225(Long), N(String), PREPRINT(String)
16:48:14.451 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.456 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.457 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135228(Long), N(String), PREPRINT(String)
16:48:14.461 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.465 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.466 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135234(Long), N(String), PREPRINT(String)
16:48:14.469 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.472 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.473 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135236(Long), N(String), PREPRINT(String)
16:48:14.477 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.481 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.482 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135209(Long), N(String), PREPRINT(String)
16:48:14.485 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.493 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.493 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135220(Long), N(String), PREPRINT(String)
16:48:14.496 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.514 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.515 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135224(Long), N(String), PREPRINT(String)
16:48:14.519 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.561 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.561 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135227(Long), N(String), PREPRINT(String)
16:48:14.565 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.569 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.570 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135232(Long), N(String), PREPRINT(String)
16:48:14.574 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.577 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.577 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135233(Long), N(String), PREPRINT(String)
16:48:14.581 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.584 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.586 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135235(Long), N(String), PREPRINT(String)
16:48:14.593 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.599 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:14.600 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07270(String), 135210(Long), N(String), PREPRINT(String)
16:48:14.604 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:14.628 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
16:48:14.633 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
16:48:14.661 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
16:48:15.004 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
16:48:15.007 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 07270(String)
16:48:15.018 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
16:48:18.032 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
16:48:18.035 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 07270(String), N(String), 00(String)
16:48:18.041 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
16:48:20.113 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:20.114 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:20(String), 9999999(String), KVSP(String), 135217(String), 07270(String), C1(String), N(String), 0049                     (String)
16:48:20.121 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:20.122 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:20.122 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135217(Long), N(String), PREPRINT(String)
16:48:20.126 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:20.132 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:20.133 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:20(String), 9999999(String), KVSP(String), 135218(String), 07270(String), C1(String), N(String), 0041                     (String)
16:48:20.136 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:20.137 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:20.137 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135218(Long), N(String), PREPRINT(String)
16:48:20.141 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:20.147 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:20.147 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:20(String), 9999999(String), KVSP(String), 135213(String), 07270(String), C1(String), N(String), 0042                     (String)
16:48:20.150 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:20.151 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:20.152 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135213(Long), N(String), PREPRINT(String)
16:48:20.154 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:20.161 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:20.162 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:20(String), 9999999(String), KVSP(String), 135214(String), 07270(String), C1(String), N(String), 0043                     (String)
16:48:20.165 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:20.166 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:20.167 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135214(Long), N(String), PREPRINT(String)
16:48:20.172 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:20.179 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:20.180 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:20(String), 9999999(String), KVSP(String), 135216(String), 07270(String), C1(String), N(String), 0044                     (String)
16:48:20.183 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:20.184 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:20.184 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135216(Long), N(String), PREPRINT(String)
16:48:20.187 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:20.194 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:20.196 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:20(String), 9999999(String), KVSP(String), 135229(String), 07270(String), C1(String), N(String), 0035                     (String)
16:48:20.199 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:20.200 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:20.201 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135229(Long), N(String), PREPRINT(String)
16:48:20.205 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:20.212 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:20.213 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:20(String), 9999999(String), KVSP(String), 135211(String), 07270(String), C1(String), N(String), 1311                     (String)
16:48:20.217 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:20.218 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:20.218 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135211(Long), N(String), PREPRINT(String)
16:48:20.224 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:20.242 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:20.244 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:20(String), 9999999(String), KVSP(String), 135212(String), 07270(String), C1(String), N(String), 1312                     (String)
16:48:20.247 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:20.249 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:20.249 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135212(Long), N(String), PREPRINT(String)
16:48:20.253 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:20.260 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:20.263 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:20(String), 9999999(String), KVSP(String), 135215(String), 07270(String), C1(String), N(String), 0039                     (String)
16:48:20.266 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:20.267 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:20.268 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135215(Long), N(String), PREPRINT(String)
16:48:20.272 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:20.286 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
16:48:20.287 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
16:48:20.290 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
16:48:20.973 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
16:48:20.974 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 07270(String), N(String), 00(String)
16:48:20.977 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
16:48:21.089 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:48:21.090 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:48:21.157 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:48:21.491 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:21.492 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:21(String), 9999999(String), KVSP(String), 135215(String), 07270(String), C1(String), N(String), 0039                     (String)
16:48:21.495 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.496 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:21.498 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135215(Long), N(String), PREPRINT(String)
16:48:21.504 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 0
16:48:21.509 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
16:48:21.510 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135226(Long), N(String)
16:48:21.516 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.524 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:21.525 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:21(String), 9999999(String), KVSP(String), 135226(String), 07270(String), C1(String), N(String), 0034                     (String)
16:48:21.528 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.530 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
16:48:21.531 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135231(Long), N(String)
16:48:21.535 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.542 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:21.543 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:21(String), 9999999(String), KVSP(String), 135231(String), 07270(String), C1(String), N(String), 0034                     (String)
16:48:21.546 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.551 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:21.552 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:21(String), 9999999(String), KVSP(String), 135219(String), 07270(String), C1(String), N(String), 0034                     (String)
16:48:21.557 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.559 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:21.560 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135219(Long), N(String), PREPRINT(String)
16:48:21.564 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.567 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
16:48:21.568 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135221(Long), N(String)
16:48:21.571 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.577 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:21.578 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:21(String), 9999999(String), KVSP(String), 135221(String), 07270(String), C1(String), N(String), 0032                     (String)
16:48:21.580 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.581 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
16:48:21.582 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135225(Long), N(String)
16:48:21.587 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.693 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:21.694 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:21(String), 9999999(String), KVSP(String), 135225(String), 07270(String), C1(String), N(String), 0032                     (String)
16:48:21.698 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.699 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
16:48:21.699 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135228(Long), N(String)
16:48:21.703 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.730 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:21.731 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:21(String), 9999999(String), KVSP(String), 135228(String), 07270(String), C1(String), N(String), 0032                     (String)
16:48:21.734 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.735 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
16:48:21.736 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135234(Long), N(String)
16:48:21.740 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.747 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:21.749 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:21(String), 9999999(String), KVSP(String), 135234(String), 07270(String), C1(String), N(String), 0032                     (String)
16:48:21.752 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.753 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
16:48:21.754 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135236(Long), N(String)
16:48:21.760 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.768 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:21.769 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:21(String), 9999999(String), KVSP(String), 135236(String), 07270(String), C1(String), N(String), 0032                     (String)
16:48:21.773 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.778 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:21.779 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:21(String), 9999999(String), KVSP(String), 135209(String), 07270(String), C1(String), N(String), 0032                     (String)
16:48:21.782 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.783 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:21.783 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135209(Long), N(String), PREPRINT(String)
16:48:21.787 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.791 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
16:48:21.792 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135220(Long), N(String)
16:48:21.794 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.799 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:21.800 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:21(String), 9999999(String), KVSP(String), 135220(String), 07270(String), C1(String), N(String), 0033                     (String)
16:48:21.803 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.804 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
16:48:21.804 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135224(Long), N(String)
16:48:21.810 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.821 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:21.821 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:21(String), 9999999(String), KVSP(String), 135224(String), 07270(String), C1(String), N(String), 0033                     (String)
16:48:21.824 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.824 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
16:48:21.825 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135227(Long), N(String)
16:48:21.828 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.833 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:21.834 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:21(String), 9999999(String), KVSP(String), 135227(String), 07270(String), C1(String), N(String), 0033                     (String)
16:48:21.836 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.837 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
16:48:21.837 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135232(Long), N(String)
16:48:21.840 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.845 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:21.846 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:21(String), 9999999(String), KVSP(String), 135232(String), 07270(String), C1(String), N(String), 0033                     (String)
16:48:21.848 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.849 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
16:48:21.849 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135233(Long), N(String)
16:48:21.852 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.867 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:21.868 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:21(String), 9999999(String), KVSP(String), 135233(String), 07270(String), C1(String), N(String), 0033                     (String)
16:48:21.871 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.871 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? 
16:48:21.872 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135235(Long), N(String)
16:48:21.875 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintStateWithoutOldPrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.880 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:21.881 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:21(String), 9999999(String), KVSP(String), 135235(String), 07270(String), C1(String), N(String), 0033                     (String)
16:48:21.884 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.887 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:48:21.888 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:48:21(String), 9999999(String), KVSP(String), 135210(String), 07270(String), C1(String), N(String), 0033                     (String)
16:48:21.892 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.893 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:48:21.894 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07270(String), 135210(Long), N(String), PREPRINT(String)
16:48:21.897 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:48:21.906 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
16:48:21.907 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
16:48:21.916 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
16:48:31.090 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:48:31.090 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:48:31.096 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:48:41.090 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:48:41.090 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:48:41.096 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:48:49.642 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==>  Preparing: select top 32 ohl.REF_NUM,rob.table_no from ORDER_HANG_LIST as ohl inner join RT_ORDER_BILL rob on rob.bill_no = ohl.ref_num where ohl.REF_NUM not in ( select top 0 oh.REF_NUM from ORDER_HANG_LIST as oh order by oh.HANG_TIME )order by ohl.HANG_TIME 
16:48:49.642 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:48:49.649 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:48:51.092 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:48:51.093 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:48:51.100 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:49:01.091 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:49:01.092 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:49:01.098 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:50:24.711 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no, rd.sub_no, rd.type, rd.table_no, rd.goodsno, rd.order_idx, t.name1, t.print_info, rd.rt_op_date, rb.IN_DATE, rd.rt_op_time, rd.s_code, rd.seal_count, rd.amt, rd.print_state, tp.single_prt, tk.name1 as t_kic_msg, rb.pos_id, tp.name1 as print_name, rd.barcode, sc.name1 as staff, tb.zone, rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.code = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in ('UNPRINT', 'PREPRINT' , 'MSG', 'HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:50:24.832 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:50:25.000 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - <==      Total: 0
16:50:25.096 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' and t.print_info in ( '0B' ) group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select BILL_NO, MIN(RT_OP_TIME) as min_time from rt_bill_detail GROUP BY BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and rd.print_state in('HANG') and t.print_info in ( '0B' ) and exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:50:25.097 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:50:25.108 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:50:31.424 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:50:31.425 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:50:31.434 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:50:41.425 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:50:41.425 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:50:41.432 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:50:45.736 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==>  Preparing: select top 32 ohl.REF_NUM,rob.table_no from ORDER_HANG_LIST as ohl inner join RT_ORDER_BILL rob on rob.bill_no = ohl.ref_num where ohl.REF_NUM not in ( select top 0 oh.REF_NUM from ORDER_HANG_LIST as oh order by oh.HANG_TIME )order by ohl.HANG_TIME 
16:50:45.738 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:50:45.742 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:50:51.425 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:50:51.426 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:50:51.432 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:50:52.621 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==>  Preparing: select top 32 ohl.REF_NUM,rob.table_no from ORDER_HANG_LIST as ohl inner join RT_ORDER_BILL rob on rob.bill_no = ohl.ref_num where ohl.REF_NUM not in ( select top 0 oh.REF_NUM from ORDER_HANG_LIST as oh order by oh.HANG_TIME )order by ohl.HANG_TIME 
16:50:52.622 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:50:52.625 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:50:56.232 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==>  Preparing: select top 32 ohl.REF_NUM,rob.table_no from ORDER_HANG_LIST as ohl inner join RT_ORDER_BILL rob on rob.bill_no = ohl.ref_num where ohl.REF_NUM not in ( select top 0 oh.REF_NUM from ORDER_HANG_LIST as oh order by oh.HANG_TIME )order by ohl.HANG_TIME 
16:50:56.233 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:50:56.236 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:50:58.836 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==>  Preparing: select top 32 ohl.REF_NUM,rob.table_no from ORDER_HANG_LIST as ohl inner join RT_ORDER_BILL rob on rob.bill_no = ohl.ref_num where ohl.REF_NUM not in ( select top 32 oh.REF_NUM from ORDER_HANG_LIST as oh order by oh.HANG_TIME )order by ohl.HANG_TIME 
16:50:58.837 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:50:58.852 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:01.425 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:51:01.425 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:51:01.431 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:02.215 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==>  Preparing: select top 32 ohl.REF_NUM,rob.table_no from ORDER_HANG_LIST as ohl inner join RT_ORDER_BILL rob on rob.bill_no = ohl.ref_num where ohl.REF_NUM not in ( select top 0 oh.REF_NUM from ORDER_HANG_LIST as oh order by oh.HANG_TIME )order by ohl.HANG_TIME 
16:51:02.216 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:51:02.222 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:11.428 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:51:11.429 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:51:11.438 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:21.440 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:51:21.441 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:51:21.447 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:22.549 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==>  Preparing: select top 32 ohl.REF_NUM,rob.table_no from ORDER_HANG_LIST as ohl inner join RT_ORDER_BILL rob on rob.bill_no = ohl.ref_num where ohl.REF_NUM not in ( select top 0 oh.REF_NUM from ORDER_HANG_LIST as oh order by oh.HANG_TIME )order by ohl.HANG_TIME 
16:51:22.550 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:51:22.563 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:25.267 [JavaFX Application Thread] DEBUG m.p.d.m.T.getTopButtons BaseJdbcLogger.java:159 debug - ==>  Preparing: select * from TOP_BUTTON 
16:51:25.268 [JavaFX Application Thread] DEBUG m.p.d.m.T.getTopButtons BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:51:25.280 [JavaFX Application Thread] DEBUG m.p.d.m.T.getTopButtons BaseJdbcLogger.java:159 debug - <==      Total: 10
16:51:25.317 [JavaFX Application Thread] DEBUG m.p.d.m.T.getOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: select g.GoodsNo as goodsNo,g.NAME1 as goodName1 from T_goods g where g.GoodsNo in (SELECT su.GoodsNo FROM SUSPENDI su where su.auto_pause = 'TRUE' ) or g.GoodsNo in (select k.GoodsNo from ITEM_STK k where k.STOCK = 0.00 ) 
16:51:25.318 [JavaFX Application Thread] DEBUG m.p.d.m.T.getOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:51:25.361 [JavaFX Application Thread] DEBUG m.p.d.m.T.getOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 1
16:51:29.061 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: select g.GoodsNo as goodsNo,g.NAME1 as goodName1 from PAGE_CONT as pc inner join PAGE as p on p.ID = pc.PAGE_INDEX inner join T_goods g on g.GoodsNo = pc.GoodsNo where p.TB_ID = ? 
16:51:29.062 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 1(String)
16:51:29.079 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 4
16:51:29.084 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:29.085 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 1322(String)
16:51:29.093 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:29.104 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:29.104 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0128(String)
16:51:29.108 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:29.111 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:29.112 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0129(String)
16:51:29.116 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:29.119 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:29.120 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0127(String)
16:51:29.124 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:31.426 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:51:31.427 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:51:31.433 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:32.390 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: select g.GoodsNo as goodsNo,g.NAME1 as goodName1 from PAGE_CONT as pc inner join PAGE as p on p.ID = pc.PAGE_INDEX inner join T_goods g on g.GoodsNo = pc.GoodsNo where p.TB_ID = ? 
16:51:32.390 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 1(String)
16:51:32.396 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 4
16:51:32.400 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:32.400 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 1322(String)
16:51:32.404 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:32.407 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:32.408 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0128(String)
16:51:32.411 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:32.416 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:32.417 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0129(String)
16:51:32.420 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:32.423 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:32.424 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0127(String)
16:51:32.427 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:33.020 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: select g.GoodsNo as goodsNo,g.NAME1 as goodName1 from PAGE_CONT as pc inner join PAGE as p on p.ID = pc.PAGE_INDEX inner join T_goods g on g.GoodsNo = pc.GoodsNo where p.TB_ID = ? 
16:51:33.021 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0(String)
16:51:33.035 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 19
16:51:33.039 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:33.040 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0121(String)
16:51:33.048 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:33.051 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:33.052 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0122(String)
16:51:33.055 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:33.059 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:33.059 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0085(String)
16:51:33.062 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:33.066 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:33.067 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0086(String)
16:51:33.072 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:33.075 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:33.076 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0087(String)
16:51:33.081 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:33.084 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:33.085 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0088(String)
16:51:33.088 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:33.092 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:33.092 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0089(String)
16:51:33.097 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:33.101 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:33.101 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0090(String)
16:51:33.105 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:33.108 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:33.109 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0091(String)
16:51:33.113 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:33.116 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:33.117 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0093(String)
16:51:33.121 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:33.125 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:33.126 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0094(String)
16:51:33.129 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:33.133 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:33.134 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0095(String)
16:51:33.138 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:34.446 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:34.447 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0097(String)
16:51:34.450 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:34.455 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:34.456 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0098(String)
16:51:34.460 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:34.464 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:34.560 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0099(String)
16:51:34.563 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:34.566 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:34.567 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0104(String)
16:51:34.570 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:34.574 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:34.574 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0105(String)
16:51:34.580 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:34.591 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:34.592 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0106(String)
16:51:34.595 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:34.599 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:34.599 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0123(String)
16:51:34.603 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:35.733 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:35.733 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0121(String)
16:51:35.738 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:35.747 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:35.748 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0122(String)
16:51:35.753 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:35.759 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:35.760 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0085(String)
16:51:35.763 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:35.766 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:35.767 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0086(String)
16:51:35.770 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:35.773 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:35.774 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0087(String)
16:51:35.795 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:35.799 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:35.800 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0088(String)
16:51:35.804 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:35.813 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:35.814 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0089(String)
16:51:35.817 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:35.820 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:35.821 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0090(String)
16:51:35.824 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:35.829 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:35.830 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0091(String)
16:51:35.833 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:35.837 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:35.838 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0093(String)
16:51:35.856 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:35.861 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:35.862 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0094(String)
16:51:35.897 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:35.901 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:35.902 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0095(String)
16:51:35.906 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:40.245 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: select g.GoodsNo as goodsNo,g.NAME1 as goodName1 from PAGE_CONT as pc inner join PAGE as p on p.ID = pc.PAGE_INDEX inner join T_goods g on g.GoodsNo = pc.GoodsNo where p.TB_ID = ? 
16:51:40.246 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 2(String)
16:51:40.254 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 15
16:51:40.258 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:40.259 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0125(String)
16:51:40.263 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:40.269 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:40.269 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0111(String)
16:51:40.277 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:40.280 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:40.281 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0120(String)
16:51:40.285 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:40.288 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:40.289 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0119(String)
16:51:40.292 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:40.296 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:40.297 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0110(String)
16:51:40.302 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:40.306 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:40.306 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0109(String)
16:51:40.310 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:40.316 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:40.317 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0108(String)
16:51:40.320 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:40.324 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:40.324 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0107(String)
16:51:40.327 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:40.330 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:40.331 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0117(String)
16:51:40.334 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:40.338 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:40.338 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0115(String)
16:51:40.341 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:40.345 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:40.346 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0113(String)
16:51:40.350 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:40.354 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:40.355 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0118(String)
16:51:40.358 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:40.953 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: select g.GoodsNo as goodsNo,g.NAME1 as goodName1 from PAGE_CONT as pc inner join PAGE as p on p.ID = pc.PAGE_INDEX inner join T_goods g on g.GoodsNo = pc.GoodsNo where p.TB_ID = ? 
16:51:40.954 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 1(String)
16:51:40.960 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 4
16:51:40.964 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:40.964 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 1322(String)
16:51:40.968 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:40.971 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:40.972 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0128(String)
16:51:40.976 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:40.981 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:40.981 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0129(String)
16:51:40.985 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:40.988 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:40.989 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0127(String)
16:51:40.992 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:41.427 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:51:41.428 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:51:41.434 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:41.468 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: select g.GoodsNo as goodsNo,g.NAME1 as goodName1 from PAGE_CONT as pc inner join PAGE as p on p.ID = pc.PAGE_INDEX inner join T_goods g on g.GoodsNo = pc.GoodsNo where p.TB_ID = ? 
16:51:41.468 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0(String)
16:51:41.477 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 19
16:51:41.480 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:41.481 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0121(String)
16:51:41.485 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:41.488 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:41.489 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0122(String)
16:51:41.494 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:41.497 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:41.498 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0085(String)
16:51:41.501 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:41.505 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:41.506 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0086(String)
16:51:41.510 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:41.513 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:41.513 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0087(String)
16:51:41.517 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:41.520 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:41.520 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0088(String)
16:51:41.524 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:41.528 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:41.529 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0089(String)
16:51:41.532 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:41.536 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:41.537 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0090(String)
16:51:41.541 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:41.545 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:41.546 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0091(String)
16:51:41.549 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:41.553 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:41.554 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0093(String)
16:51:41.557 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:41.561 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:41.562 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0094(String)
16:51:41.565 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:41.568 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:41.569 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0095(String)
16:51:41.572 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:42.380 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: select g.GoodsNo as goodsNo,g.NAME1 as goodName1 from PAGE_CONT as pc inner join PAGE as p on p.ID = pc.PAGE_INDEX inner join T_goods g on g.GoodsNo = pc.GoodsNo where p.TB_ID = ? 
16:51:42.381 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 3(String)
16:51:42.387 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 8
16:51:42.390 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:42.391 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0026(String)
16:51:42.395 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:42.398 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:42.399 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0001(String)
16:51:42.401 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:42.404 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:42.405 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0002(String)
16:51:42.408 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:42.412 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:42.412 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0003(String)
16:51:42.416 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:42.420 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:42.420 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0022(String)
16:51:42.424 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:42.427 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:42.428 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0023(String)
16:51:42.431 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:42.434 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:42.435 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0024(String)
16:51:42.438 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:42.441 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:42.441 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0025(String)
16:51:42.445 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:43.068 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: select g.GoodsNo as goodsNo,g.NAME1 as goodName1 from PAGE_CONT as pc inner join PAGE as p on p.ID = pc.PAGE_INDEX inner join T_goods g on g.GoodsNo = pc.GoodsNo where p.TB_ID = ? 
16:51:43.069 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 2(String)
16:51:43.076 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 15
16:51:43.081 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:43.082 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0125(String)
16:51:43.085 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:43.088 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:43.089 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0111(String)
16:51:43.092 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:43.095 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:43.096 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0120(String)
16:51:43.099 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:43.103 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:43.103 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0119(String)
16:51:43.107 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:43.110 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:43.111 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0110(String)
16:51:43.114 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:43.118 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:43.119 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0109(String)
16:51:43.123 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:43.126 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:43.127 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0108(String)
16:51:43.131 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:43.134 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:43.135 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0107(String)
16:51:43.138 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:43.142 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:43.143 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0117(String)
16:51:43.147 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:43.150 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:43.151 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0115(String)
16:51:43.154 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:43.157 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:43.157 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0113(String)
16:51:43.161 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:43.165 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:43.165 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0118(String)
16:51:43.169 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:43.380 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: select g.GoodsNo as goodsNo,g.NAME1 as goodName1 from PAGE_CONT as pc inner join PAGE as p on p.ID = pc.PAGE_INDEX inner join T_goods g on g.GoodsNo = pc.GoodsNo where p.TB_ID = ? 
16:51:43.380 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 1(String)
16:51:43.387 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 4
16:51:43.392 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:43.392 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 1322(String)
16:51:43.395 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:43.399 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:43.399 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0128(String)
16:51:43.402 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:43.406 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:43.406 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0129(String)
16:51:43.410 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:43.413 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:43.414 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0127(String)
16:51:43.417 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:43.988 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: select g.GoodsNo as goodsNo,g.NAME1 as goodName1 from PAGE_CONT as pc inner join PAGE as p on p.ID = pc.PAGE_INDEX inner join T_goods g on g.GoodsNo = pc.GoodsNo where p.TB_ID = ? 
16:51:43.989 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0(String)
16:51:43.996 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 19
16:51:44.003 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:44.003 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0121(String)
16:51:44.007 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:44.011 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:44.011 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0122(String)
16:51:44.014 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:44.018 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:44.019 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0085(String)
16:51:44.022 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:44.026 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:44.026 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0086(String)
16:51:44.030 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:44.033 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:44.033 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0087(String)
16:51:44.037 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:44.041 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:44.041 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0088(String)
16:51:44.044 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:44.048 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:44.048 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0089(String)
16:51:44.053 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:44.056 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:44.056 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0090(String)
16:51:44.060 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:44.063 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:44.064 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0091(String)
16:51:44.067 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:44.071 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:44.072 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0093(String)
16:51:44.075 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:44.078 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:44.079 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0094(String)
16:51:44.082 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:44.086 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:44.086 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0095(String)
16:51:44.090 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:51.429 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:51:51.429 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:51:51.436 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:51:58.275 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:51:58.276 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0085(String)
16:51:58.279 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:01.482 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:52:01.483 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:52:01.492 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:11.428 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:52:11.429 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:52:11.435 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:14.373 [JavaFX Application Thread] DEBUG m.p.d.m.T.getTopButtons BaseJdbcLogger.java:159 debug - ==>  Preparing: select * from TOP_BUTTON 
16:52:14.374 [JavaFX Application Thread] DEBUG m.p.d.m.T.getTopButtons BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:52:14.387 [JavaFX Application Thread] DEBUG m.p.d.m.T.getTopButtons BaseJdbcLogger.java:159 debug - <==      Total: 10
16:52:14.398 [JavaFX Application Thread] DEBUG m.p.d.m.T.getOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: select g.GoodsNo as goodsNo,g.NAME1 as goodName1 from T_goods g where g.GoodsNo in (SELECT su.GoodsNo FROM SUSPENDI su where su.auto_pause = 'TRUE' ) or g.GoodsNo in (select k.GoodsNo from ITEM_STK k where k.STOCK = 0.00 ) 
16:52:14.399 [JavaFX Application Thread] DEBUG m.p.d.m.T.getOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:52:14.404 [JavaFX Application Thread] DEBUG m.p.d.m.T.getOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 1
16:52:16.203 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: select g.GoodsNo as goodsNo,g.NAME1 as goodName1 from PAGE_CONT as pc inner join PAGE as p on p.ID = pc.PAGE_INDEX inner join T_goods g on g.GoodsNo = pc.GoodsNo where p.TB_ID = ? 
16:52:16.204 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0(String)
16:52:16.213 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 19
16:52:16.216 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:16.217 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0121(String)
16:52:16.220 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:16.223 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:16.224 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0122(String)
16:52:16.227 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:16.230 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:16.231 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0085(String)
16:52:16.234 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:16.237 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:16.238 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0086(String)
16:52:16.241 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:16.244 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:16.245 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0087(String)
16:52:16.249 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:16.252 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:16.253 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0088(String)
16:52:16.258 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:16.263 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:16.263 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0089(String)
16:52:16.267 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:16.270 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:16.270 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0090(String)
16:52:16.273 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:16.276 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:16.277 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0091(String)
16:52:16.280 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:16.283 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:16.284 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0093(String)
16:52:16.287 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:16.291 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:16.291 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0094(String)
16:52:16.295 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:16.300 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:16.301 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0095(String)
16:52:16.305 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:19.872 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: select g.GoodsNo as goodsNo,g.NAME1 as goodName1 from PAGE_CONT as pc inner join PAGE as p on p.ID = pc.PAGE_INDEX inner join T_goods g on g.GoodsNo = pc.GoodsNo where p.TB_ID = ? 
16:52:19.873 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 2(String)
16:52:19.880 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 15
16:52:19.883 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:19.884 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0125(String)
16:52:19.887 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:19.890 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:19.891 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0111(String)
16:52:19.895 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:19.899 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:19.900 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0120(String)
16:52:19.903 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:19.907 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:19.907 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0119(String)
16:52:19.911 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:19.914 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:19.915 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0110(String)
16:52:19.918 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:19.922 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:19.922 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0109(String)
16:52:19.926 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:19.930 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:19.931 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0108(String)
16:52:19.934 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:19.937 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:19.938 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0107(String)
16:52:19.941 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:19.948 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:19.949 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0117(String)
16:52:19.952 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:19.962 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:19.962 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0115(String)
16:52:19.965 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:19.968 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:19.969 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0113(String)
16:52:19.972 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:19.975 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:19.976 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0118(String)
16:52:19.979 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:20.787 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: select g.GoodsNo as goodsNo,g.NAME1 as goodName1 from PAGE_CONT as pc inner join PAGE as p on p.ID = pc.PAGE_INDEX inner join T_goods g on g.GoodsNo = pc.GoodsNo where p.TB_ID = ? 
16:52:20.788 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 1(String)
16:52:20.794 [JavaFX Application Thread] DEBUG m.p.d.m.TGoodsDtoMapper.getTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 4
16:52:20.797 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:20.798 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 1322(String)
16:52:20.802 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:20.806 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:20.807 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0128(String)
16:52:20.811 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:20.815 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:20.817 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0129(String)
16:52:20.820 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:20.824 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==>  Preparing: SELECT g.GoodsNo as goodsNo,g.NAME1 as goodName1 FROM SUSPENDI su inner join T_goods g on g.GoodsNo = su.GoodsNo where su.auto_pause = 'TRUE' and g.GoodsNo = ? 
16:52:20.825 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - ==> Parameters: 0127(String)
16:52:20.829 [JavaFX Application Thread] DEBUG m.p.d.m.T.existOutOfStockTGoodsDto BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:21.458 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:52:21.459 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:52:21.467 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:26.515 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==>  Preparing: select top 32 ohl.REF_NUM,rob.table_no from ORDER_HANG_LIST as ohl inner join RT_ORDER_BILL rob on rob.bill_no = ohl.ref_num where ohl.REF_NUM not in ( select top 0 oh.REF_NUM from ORDER_HANG_LIST as oh order by oh.HANG_TIME )order by ohl.HANG_TIME 
16:52:26.516 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:52:26.518 [JavaFX Application Thread] DEBUG m.p.d.m.O.getOrderHangList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:31.440 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:52:31.441 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:52:31.447 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:41.428 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:52:41.429 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:52:41.435 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:52:51.433 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:52:51.434 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:52:51.441 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:53:01.432 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0B' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0B' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:53:01.432 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:53:01.438 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:53:24.321 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no, rd.sub_no, rd.type, rd.table_no, rd.goodsno, rd.order_idx, t.name1, t.print_info, rd.rt_op_date, rb.IN_DATE, rd.rt_op_time, rd.s_code, rd.seal_count, rd.amt, rd.print_state, tp.single_prt, tk.name1 as t_kic_msg, rb.pos_id, tp.name1 as print_name, rd.barcode, sc.name1 as staff, tb.zone, rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.code = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0A' , '0B' , '0C' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in ('UNPRINT', 'PREPRINT' , 'MSG', 'HANG') or rd.print_state is null) and t.print_info in ( '0A' , '0B' , '0C' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:53:24.436 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:53:24.677 [Timer-0] DEBUG m.p.d.m.P.getPosOrderListInit BaseJdbcLogger.java:159 debug - <==      Total: 6
16:53:24.732 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' and t.print_info in ( '0A' , '0B' , '0C' ) group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select BILL_NO, MIN(RT_OP_TIME) as min_time from rt_bill_detail GROUP BY BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and rd.print_state in('HANG') and t.print_info in ( '0A' , '0B' , '0C' ) and exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:53:24.733 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:53:24.792 [Timer-0] DEBUG m.p.d.m.P.getHangPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:53:24.814 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:53:24.817 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07272(String), 135239(Long), N(String), UNPRINT(String)
16:53:24.820 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:53:24.825 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:53:24.826 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07272(String), 135240(Long), N(String), UNPRINT(String)
16:53:24.829 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:53:24.836 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:53:24.837 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07272(String), 135241(Long), N(String), UNPRINT(String)
16:53:24.844 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:53:24.858 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
16:53:24.860 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
16:53:24.871 [pool-3-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
16:53:25.217 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
16:53:25.218 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 07272(String)
16:53:25.226 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
16:53:25.231 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:53:25.233 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07274(String), 135245(Long), N(String), UNPRINT(String)
16:53:25.245 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:53:25.249 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:53:25.250 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07274(String), 135243(Long), N(String), UNPRINT(String)
16:53:25.255 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:53:25.259 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:53:25.262 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07274(String), 135244(Long), N(String), UNPRINT(String)
16:53:25.269 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:53:25.323 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
16:53:25.324 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 07274(String)
16:53:25.330 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
16:53:25.404 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
16:53:25.405 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
16:53:25.409 [pool-3-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
16:53:31.075 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0A' , '0B' , '0C' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0A' , '0B' , '0C' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:53:31.076 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:53:31.138 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:53:31.805 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
16:53:31.806 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 07272(String), N(String), 00(String)
16:53:31.810 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
16:53:33.595 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:53:33.596 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:53:33(String), 9999999(String), KVSP(String), 135239(String), 07272(String), A2(String), N(String), 0026                     (String)
16:53:33.601 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:53:33.604 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:53:33.606 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07272(String), 135239(Long), N(String), PREPRINT(String)
16:53:33.612 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:53:33.623 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:53:33.624 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:53:33(String), 9999999(String), KVSP(String), 135240(String), 07272(String), A2(String), N(String), 0022                     (String)
16:53:33.628 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:53:33.630 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:53:33.631 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07272(String), 135240(Long), N(String), PREPRINT(String)
16:53:33.635 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:53:33.642 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:53:33.643 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:53:33(String), 9999999(String), KVSP(String), 135241(String), 07272(String), A2(String), N(String), 0023                     (String)
16:53:33.647 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:53:33.649 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:53:33.650 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07272(String), 135241(Long), N(String), PREPRINT(String)
16:53:33.654 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:53:33.692 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
16:53:33.693 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
16:53:33.697 [pool-2-thread-1] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
16:53:34.750 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
16:53:34.751 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 07274(String), N(String), 00(String)
16:53:34.755 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
16:53:35.252 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:53:35.253 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:53:35(String), 9999999(String), KVSP(String), 135245(String), 07274(String), B16(String), N(String), 0001                     (String)
16:53:35.260 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:53:35.261 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:53:35.262 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07274(String), 135245(Long), N(String), PREPRINT(String)
16:53:35.266 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:53:35.273 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:53:35.275 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:53:35(String), 9999999(String), KVSP(String), 135243(String), 07274(String), B16(String), N(String), 0002                     (String)
16:53:35.278 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:53:35.279 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:53:35.280 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07274(String), 135243(Long), N(String), PREPRINT(String)
16:53:35.284 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:53:35.294 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:53:35.295 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:53:35(String), 9999999(String), KVSP(String), 135244(String), 07274(String), B16(String), N(String), 0003                     (String)
16:53:35.301 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:53:35.303 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:53:35.304 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07274(String), 135244(Long), N(String), PREPRINT(String)
16:53:35.308 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:53:35.330 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
16:53:35.331 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
16:53:35.337 [pool-2-thread-2] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
16:53:41.075 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0A' , '0B' , '0C' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0A' , '0B' , '0C' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:53:41.076 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:53:41.082 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:53:51.076 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0A' , '0B' , '0C' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0A' , '0B' , '0C' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:53:51.076 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:53:51.096 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 4
16:53:51.101 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:53:51.102 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07274(String), 135247(Long), N(String), UNPRINT(String)
16:53:51.106 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:53:51.116 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:53:51.117 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07274(String), 135246(Long), N(String), UNPRINT(String)
16:53:51.121 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:53:51.133 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:53:51.133 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07274(String), 135249(Long), N(String), UNPRINT(String)
16:53:51.136 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:53:51.149 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:53:51.150 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PREPRINT(String), 07274(String), 135248(Long), N(String), UNPRINT(String)
16:53:51.153 [Timer-0] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:53:51.162 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
16:53:51.163 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
16:53:51.166 [pool-3-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
16:53:51.182 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==>  Preparing: select count(distinct RT_OP_TIME) from RT_BILL_DETAIL with(READPAST) where BILL_NO = ? 
16:53:51.183 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - ==> Parameters: 07274(String)
16:53:51.187 [Timer-0] DEBUG m.p.d.m.P.getOrderCountsByBillNo BaseJdbcLogger.java:159 debug - <==      Total: 1
16:54:01.076 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0A' , '0B' , '0C' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0A' , '0B' , '0C' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:54:01.077 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:54:01.085 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:54:11.079 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0A' , '0B' , '0C' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0A' , '0B' , '0C' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:54:11.079 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:54:11.085 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:54:21.077 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0A' , '0B' , '0C' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0A' , '0B' , '0C' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:54:21.077 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:54:21.087 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:54:31.077 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0A' , '0B' , '0C' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0A' , '0B' , '0C' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:54:31.077 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:54:31.083 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:54:41.078 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0A' , '0B' , '0C' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0A' , '0B' , '0C' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:54:41.078 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:54:41.086 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:54:51.078 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0A' , '0B' , '0C' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0A' , '0B' , '0C' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:54:51.078 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:54:51.084 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
16:54:59.522 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==>  Preparing: select LEAVE_DATE from rt_order_bill_his where bill_no = ? and bill_t = ? and sub_no = ?; 
16:54:59.523 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - ==> Parameters: 07274(String), N(String), 00(String)
16:54:59.526 [JavaFX Application Thread] DEBUG m.p.d.m.PosOrderDtoMapper.isBilled BaseJdbcLogger.java:159 debug - <==      Total: 0
16:55:00.253 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:55:00.255 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:55:00(String), 9999999(String), KVSP(String), 135247(String), 07274(String), B16(String), N(String), 0025                     (String)
16:55:00.258 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:55:00.259 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:55:00.260 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07274(String), 135247(Long), N(String), PREPRINT(String)
16:55:00.263 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:55:00.268 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:55:00.268 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:55:00(String), 9999999(String), KVSP(String), 135246(String), 07274(String), B16(String), N(String), 0022                     (String)
16:55:00.285 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:55:00.285 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:55:00.286 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07274(String), 135246(Long), N(String), PREPRINT(String)
16:55:00.297 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:55:00.312 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:55:00.313 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:55:00(String), 9999999(String), KVSP(String), 135249(String), 07274(String), B16(String), N(String), 0023                     (String)
16:55:00.315 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:55:00.316 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:55:00.317 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07274(String), 135249(Long), N(String), PREPRINT(String)
16:55:00.320 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:55:00.325 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==>  Preparing: INSERT INTO LOG (BARCODE,RT_OP_DATE,RT_OP_TIME,S_CODE,LOG_T,RT_T_IDX,BILL_NO,SUB_NO,TABLE1,[TYPE],REMARK1) VALUES ( ?,?,?,?,?,?,?,'00',?,?,?) 
16:55:00.326 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String), 2018-01-23(String), 16:55:00(String), 9999999(String), KVSP(String), 135248(String), 07274(String), B16(String), N(String), 0024                     (String)
16:55:00.329 [JavaFX Application Thread] DEBUG m.p.d.mapper.RtLogMapper.insertTLog BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:55:00.330 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==>  Preparing: update rt_bill_detail with(READPAST) set print_state= ? where bill_no = ? and order_idx= ? and type = ? and ( print_state = ? or print_state is null) 
16:55:00.330 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - ==> Parameters: PRINTED(String), 07274(String), 135248(Long), N(String), PREPRINT(String)
16:55:00.333 [JavaFX Application Thread] DEBUG m.p.d.m.P.updatePrintState BaseJdbcLogger.java:159 debug - <==    Updates: 1
16:55:00.342 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==>  Preparing: select LINE from BARCODE where BARCODE = ? 
16:55:00.343 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - ==> Parameters: 200101(String)
16:55:00.346 [pool-2-thread-3] DEBUG m.p.d.m.B.getLineByBarcode BaseJdbcLogger.java:159 debug - <==      Total: 1
16:55:01.078 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==>  Preparing: select rd.bill_no,rd.sub_no,rd.type,rd.table_no,rd.goodsno,rd.order_idx,rb.IN_DATE, t.name1,t.print_info,rd.rt_op_date,rd.rt_op_time,rd.s_code,rd.seal_count,rd.amt,rd.print_state,tp.single_prt, tk.name1 as t_kic_msg,rb.pos_id, tp.name1 as print_name, rd.barcode,sc.name1 as staff, tb.zone,rs.NAME1 as r_desc, isnull(ts.name1,'')+ isnull(' '+rs.name1,'')+ isnull(' '+tk.name1,'') as print_msg, bc.line as region_id, isnull(rp.person_num, 0 ) person_num, ts.name1 as att_name, (case when DATEDIFF(second, rm.min_time, rd.rt_op_time) = 0 then '首單' when DATEDIFF(second, rm.min_time, rd.rt_op_time) > 7200 then '尾單' else '加單' end) as order_type from rt_bill_detail rd with(READPAST) left join t_goods t on rd.goodsno = t.goodsno left join t_printer tp on t.print_info = tp.ptn_code left join t_kic_msg tk on tk.code = rd.t_kic_msg left join rt_order_bill rb on rb.bill_no = rd.bill_no and rd.type = rb.bill_t left join s_code sc on sc.code = rd.s_code left join [TABLE] tb on tb.table_no = rd.table_no left join r_desc rs on rs.CODE = rd.R_DESC left join BARCODE bc on bc.BARCODE = rd.BARCODE left join rt_order_ts ro on rd.order_idx = ro.order_idx left join order_ts ts on ts.CODE = ro.tss_code and ts.a_group = rd.goodsno left join (select rd.BILL_NO,sum(rd.SEAL_COUNT) as person_num from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT = '054' and rd.TYPE ='N' group by rd.BILL_NO) rp on rp.BILL_NO = rd.BILL_NO left join (select rd.BILL_NO, MIN(rd.RT_OP_TIME) as min_time from rt_bill_detail rd LEFT JOIN t_goods t on rd.goodsno = t.goodsno where t.CAT not in ('054','007') and rd.TYPE ='N' and t.print_info in ( '0A' , '0B' , '0C' ) GROUP BY rd.BILL_NO) rm on rm.BILL_NO = rd.BILL_NO where rd.type = 'N' and (rd.print_state in('UNPRINT', 'MSG','HANG') or rd.print_state is null) and t.print_info in ( '0A' , '0B' , '0C' ) and not exists ( select * from order_hang_list h where getdate() between h.HANG_TIME and h.RELEASE_TIME and h.ref_num =rd.bill_no ) order by cast(isnull(t.IN_DECIMAL,'0') as int), rd.rt_op_date,rd.order_idx 
16:55:01.079 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - ==> Parameters: 
16:55:01.085 [Timer-0] DEBUG m.p.d.m.P.getPosOrderList BaseJdbcLogger.java:159 debug - <==      Total: 0
